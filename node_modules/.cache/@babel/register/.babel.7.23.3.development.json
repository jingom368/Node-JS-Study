{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\MySource\\\\soom\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\MySource\\\\soom\",\"filename\":\"C:\\\\MySource\\\\soom\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\MySource\\\\soom\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.3:development":{"value":{"code":"\"use strict\";\n\nvar _http = _interopRequireDefault(require(\"http\"));\nvar _ws = _interopRequireDefault(require(\"ws\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// import http from \"http\"; : Node.js의 내장 모듈인 http를 불러옵니다. 이 모듈은 HTTP 서버를 생성하는 데 사용됩니다.\n// import WebSocket from 'ws'; : WebSocket 프로토콜을 구현한 ws 모듈을 불러옵니다. WebSocket은 클라이언트와 서버 간에 실시간 양방향 통신을 가능하게 하는 프로토콜입니다.\n// import express from 'express'; : Express 모듈을 불러옵니다. Express는 Node.js를 위한 웹 애플리케이션 프레임워크입니다.\n\n// const app = express(); : Express 인스턴스를 생성하여 app 변수에 저장합니다.\nvar app = (0, _express[\"default\"])();\n\n// app.set(\"view engine\", \"pug\"); : Express 앱의 뷰 엔진을 Pug로 설정합니다. 뷰 엔진은 템플릿 파일을 렌더링하는 역할을 합니다.\n// app.set(\"views\", __dirname + \"/views\"); : Express 앱의 뷰(템플릿 파일)가 있는 디렉토리를 설정합니다. __dirname은 현재 파일의 경로를 나타내는 Node.js 전역 변수입니다.\n\n// app.use() : Express 미들웨어를 등록하는 메서드입니다. 미들웨어는 요청과 응답 사이에 위치하여 요청이 들어올 때마다 실행되는 함수입니다.\n//     \"/public\" : 이는 라우트의 경로를 지정합니다. 이 코드에서는 \"/public\" 경로로 들어오는 요청에 대해 미들웨어를 적용하겠다는 의미입니다.\n// express.static(__dirname+\"/public\") : express.static은 Express가 제공하는 빌트인 미들웨어로, 정적 파일을 제공하는 역할을 합니다. \n//     이 코드에서는 __dirname+\"/public\" 경로에 있는 정적 파일(이미지, CSS 파일, JavaScript 파일 등)을 \"/public\" 경로로 접근할 수 있도록 설정하고 있습니다\n\n// app.get(\"/\", (req,res) => res.render(\"home\")); : 루트 URL('/')에 GET 요청이 들어오면 home 템플릿을 렌더링하여 응답합니다. req는 요청 객체, res는 응답 객체를 나타냅니다.\n// app.get(\"/*\", (req,res) => res.redirect(\"/\")) : 루트 URL('/')를 제외한 모든 URL에 GET 요청이 들어오면 루트 URL('/')로 리다이렉트합니다.\n\napp.set(\"view engine\", \"pug\");\napp.set(\"views\", __dirname + \"/views\");\napp.use(\"/public\", _express[\"default\"][\"static\"](__dirname + \"/public\"));\napp.get(\"/\", function (req, res) {\n  return res.render(\"home\");\n});\napp.get(\"/*\", function (req, res) {\n  return res.redirect(\"/\");\n});\n\n// const handelListen = () => console.log(\"듣고 있어 http://localhost:3000\") : 서버가 3000번 포트에서 리스닝을 시작할 때 콘솔에 메시지를 출력하는 함수를 정의합니다.\n// app.listen(3000, handelListen); : Express 앱을 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\n\n// const server = http.createServer(app); : http 모듈의 createServer 메서드를 사용해 HTTP 서버를 생성하고, 이전에 정의한 Express 앱(app)을 서버에 연결합니다.\n// const wss = new  WebSocket.Server({server}); : ws 모듈의 Server 클래스를 사용해 WebSocket 서버를 생성하고, 이를 HTTP 서버에 연결합니다. \n// 이로써 HTTP와 WebSocket 요청을 동일한 포트에서 처리할 수 있게 됩니다.\n\nvar handelListen = function handelListen() {\n  return console.log(\"연결 중 http://localhost:3000\");\n};\n// app.listen(3000, handelListen);\nvar server = _http[\"default\"].createServer(app);\nvar wss = new _ws[\"default\"].Server({\n  server: server\n});\n\n// function handelConnection(socket) { console.log(socket); } : 클라이언트가 WebSocket 서버에 연결되었을 때 실행되는 콜백 함수를 정의합니다. \n//     이 함수는 연결된 클라이언트의 소켓 객체(socket)를 파라미터로 받아서 그 정보를 콘솔에 출력합니다. 이 socket 객체를 통해 연결된 클라이언트와 데이터를 주고받을 수 있습니다.\n\n// wss.on(\"connection\", handelConnection); : wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, 즉 클라이언트가 서버에 연결되었을 때 handelConnection 함수를 실행하도록 설정합니다.\n\n// 따라서 클라이언트가 이 WebSocket 서버에 연결을 시도하면, 서버는 이를 감지하고 handelConnection 함수를 실행하여 클라이언트 소켓의 정보를 콘솔에 출력합니다. \n//     이렇게 함으로써 서버는 어떤 클라이언트가 연결되었는지 확인할 수 있습니다.\n\n/* \r\n    function handelConnection(socket) {\r\n        console.log(socket);\r\n    } \r\n\r\n    wss.on(\"connection\", handelConnection);\r\n*/\n\n// wss.on(\"connection\", (socket) => {...}); : 이 부분은 wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, \n// 즉 클라이언트가 서버에 연결되었을 때 실행되는 콜백 함수를 설정하는 부분입니다. 연결된 클라이언트의 소켓 객체는 socket 파라미터로 전달됩니다.\n// \"console.log(\"socket\", socket)\"는 \"socket\"라는 문자열과 socket 객체를 별개로 출력합니다. 이 방식을 사용하면 socket 객체의 내용을 자세히 볼 수 있습니다.\n// \"console.log(\"socket\" + socket)\"는 \"socket\"라는 문자열과 socket 객체를 문자열 연결 연산자(+)를 사용하여 하나의 문자열로 만들어 출력합니다. \n//     이 경우, socket 객체가 문자열로 변환되어 출력되므로, [object Object]와 같이 출력될 수 있습니다.\n// 따라서, 객체의 내용을 자세히 보고 싶다면 \"console.log(\"socke\", socket)\" 방식을, 객체를 문자열과 함께 한 줄로 출력하고 싶다면 \"console.log(\"socke\" + socket)\" 방식을 사용하면 됩니다.\n// sockets.push(socket): 새로 연결된 웹소켓을 sockets 배열에 추가합니다.\n// console.log(\"브라우저와 연결되었습니다.\"); : 클라이언트와 연결이 성공하면 콘솔에 \"브라우저와 연결되었습니다.\"라는 메시지를 출력합니다.\n// socket.on(\"close\", () => console.log(\"서버 > 서버와 연결이 끊겼습니다.\")); : 클라이언트와의 연결이 닫혔을 때 실행되는 콜백 함수를 설정합니다. \n//     이 경우 연결이 닫히면 콘솔에 \"서버 > 서버와 연결이 끊겼습니다.\"라는 메시지를 출력합니다.\n// socket.on(\"message\", (message) => {...}) : 클라이언트로부터 메시지를 받았을 때 실행되는 콜백 함수를 설정합니다. 이 경우 메시지를 받으면 받은 메시지를 콘솔에 출력합니다.\n// const message = JSON.parse(msg): 클라이언트에서 보낸 메시지를 JSON형식으로 파싱합니다.\n// console.log([서버] : ${message});: 이 코드는 서버 측에서 실행되며, 서버의 콘솔에 \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 출력합니다. \n// 이는 주로 개발자가 서버에서 클라이언트로부터 어떤 메시지를 받았는지 확인하기 위해 사용됩니다.\n// socket.send([서버] : ${message});: 이 코드는 서버가 클라이언트로 메시지를 보내는 코드입니다. \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 그대로 클라이언트에게 보냅니다. \n// 이는 웹소켓을 통해 실시간으로 서버와 클라이언트 간의 데이터를 주고받는 데 사용됩니다.\n// sockets.forEach(aSocket => aSocket.send(${message})): sockets 배열에 있는 모든 웹소켓에 메시지를 보냅니다. 이를 통해 서버는 받은 메시지를 모든 클라이언트에게 브로드캐스팅합니다.\n\n// switch(message.type) {...} : message.type의 값에 따라 다른 코드 블록이 실행됩니다. message는 클라이언트에서 서버로 보낸 메시지를 JSON 형태로 파싱한 객체입니다.\n// case \"new_message\": : 메시지의 타입이 \"new_message\"인 경우 다음 코드를 실행합니다.\n// sockets.forEach(aSocket => aSocket.send(${socket.nickname}:${message.payload})); : 현재 연결된 모든 소켓에 메시지를 전송합니다. \n// 메시지는 보낸 사람의 닉네임과 메시지 내용을 합쳐서 전송됩니다. 여기서 socket.nickname은 메시지를 보낸 사람의 닉네임이고, message.payload는 메시지 내용입니다.\n// case \"nickname\": : 메시지의 타입이 \"nickname\"인 경우 다음 코드를 실행합니다.\n// socket[\"nickname\"] = message.payload; : 메시지를 보낸 사람의 닉네임을 message.payload로 변경합니다.\n// break; : switch 문을 빠져나옵니다. 이 키워드가 없으면, 해당 case 블록 이후의 코드도 실행됩니다.\n// 즉, 클라이언트에서 메시지 타입이 \"new_message\"로 보내면, 해당 메시지를 서버에 연결된 모든 클라이언트에게 전송하고, \n// 메시지 타입이 \"nickname\"인 경우, 메시지를 보낸 사람의 닉네임을 변경하는 작업을 수행합니다.\n\n// socket.send(\"안녕?\"); : 클라이언트와 연결이 성공하면 클라이언트에게 \"안녕?\" 메시지를 보냅니다. \n\n// server.listen(3000, handelListen); : HTTP 서버를 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\n\nvar sockets = [];\nwss.on(\"connection\", function (socket) {\n  console.log(\"socket\", socket);\n  console.log(\"socket\" + socket);\n  sockets.push(socket);\n  socket[\"nickname\"] = \"익명\";\n  console.log(\"브라우저와 연결되었습니다.\");\n  socket.on(\"close\", function () {\n    return console.log(\"서버 > 서버와 연결이 끊겼습니다.\");\n  });\n  socket.on(\"message\", function (msg) {\n    var message = JSON.parse(msg);\n    console.log(message.type, message.payload); // 클라이언트에서 받은 JSON 타입의 key값을 받아서 value를 반환\n    // console.log(`[서버] : ${message}`); // 클라이언트에서 받은 메세지\n    // socket.send(`[서버] : ${message}`); // 클라이언트에서 받은 메세지를 클라이언트로 보내는 메시지\n    // sockets.forEach(aSocket => aSocket.send(`${message}`)); // 클라이언트에서 받은 메세지를 소켓에 연결된 모든 클라이언트로 보내는 메세지\n\n    switch (message.type) {\n      case \"new_message\":\n        // sockets.forEach(aSocket => aSocket.send(`${message.payload}`));\n        sockets.forEach(function (aSocket) {\n          return aSocket.send(\"\".concat(socket.nickname, \":\").concat(message.payload));\n        });\n        break;\n      case \"nickname\":\n        socket[\"nickname\"] = message.payload;\n        break;\n    }\n  });\n  // socket.send(\"안녕?\"); // 클라이언트로 보내는 메세지\n});\n\nserver.listen(3000, handelListen);\nwsServer.on(\"connetction\", function (socket) {\n  console.log(socket);\n  socket.on(\"enter_room\", function (roomName) {\n    return console.log(roomName);\n  });\n});\nvar httpServer = _http[\"default\"].createServer(app);\nvar wsServer = (0, _socket[\"default\"])(httpServer);\nvar handelListen1 = function handelListen1() {\n  return console.log(\"listening on http://localhost:3000\");\n};\nhttpServer.listen(3000, handelListen1);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaHR0cCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3dzIiwiX2V4cHJlc3MiLCJfc29ja2V0Iiwib2JqIiwiX19lc01vZHVsZSIsImFwcCIsImV4cHJlc3MiLCJzZXQiLCJfX2Rpcm5hbWUiLCJ1c2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJyZWRpcmVjdCIsImhhbmRlbExpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJzZXJ2ZXIiLCJodHRwIiwiY3JlYXRlU2VydmVyIiwid3NzIiwiV2ViU29ja2V0IiwiU2VydmVyIiwic29ja2V0cyIsIm9uIiwic29ja2V0IiwicHVzaCIsIm1zZyIsIm1lc3NhZ2UiLCJKU09OIiwicGFyc2UiLCJ0eXBlIiwicGF5bG9hZCIsImZvckVhY2giLCJhU29ja2V0Iiwic2VuZCIsImNvbmNhdCIsIm5pY2tuYW1lIiwibGlzdGVuIiwid3NTZXJ2ZXIiLCJyb29tTmFtZSIsImh0dHBTZXJ2ZXIiLCJTb2NrZXRJTyIsImhhbmRlbExpc3RlbjEiXSwic291cmNlUm9vdCI6IkM6XFxNeVNvdXJjZVxcc29vbVxcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgaHR0cCBmcm9tIFwiaHR0cFwiOyA6IE5vZGUuanPsnZgg64K07J6lIOuqqOuTiOyduCBodHRw66W8IOu2iOufrOyYteuLiOuLpC4g7J20IOuqqOuTiOydgCBIVFRQIOyEnOuyhOulvCDsg53shLHtlZjripQg642wIOyCrOyaqeuQqeuLiOuLpC5cclxuLy8gaW1wb3J0IFdlYlNvY2tldCBmcm9tICd3cyc7IDogV2ViU29ja2V0IO2UhOuhnO2GoOy9nOydhCDqtaztmITtlZwgd3Mg66qo65OI7J2EIOu2iOufrOyYteuLiOuLpC4gV2ViU29ja2V07J2AIO2BtOudvOydtOyWuO2KuOyZgCDshJzrsoQg6rCE7JeQIOyLpOyLnOqwhCDslpHrsKntlqUg7Ya17Iug7J2EIOqwgOuKpe2VmOqyjCDtlZjripQg7ZSE66Gc7Yag7L2c7J6F64uI64ukLlxyXG4vLyBpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJzsgOiBFeHByZXNzIOuqqOuTiOydhCDrtojrn6zsmLXri4jri6QuIEV4cHJlc3PripQgTm9kZS5qc+ulvCDsnITtlZwg7Ju5IOyVoO2UjOumrOy8gOydtOyFmCDtlITroIjsnoTsm4ztgazsnoXri4jri6QuXHJcbmltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XHJcbmltcG9ydCBXZWJTb2NrZXQgZnJvbSAnd3MnO1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuXHJcbi8vIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTsgOiBFeHByZXNzIOyduOyKpO2EtOyKpOulvCDsg53shLHtlZjsl6wgYXBwIOuzgOyImOyXkCDsoIDsnqXtlanri4jri6QuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcblxyXG4vLyBhcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJwdWdcIik7IDogRXhwcmVzcyDslbHsnZgg67ewIOyXlOynhOydhCBQdWfroZwg7ISk7KCV7ZWp64uI64ukLiDrt7Ag7JeU7KeE7J2AIO2FnO2UjOumvyDtjIzsnbzsnYQg66CM642U66eB7ZWY64qUIOyXre2VoOydhCDtlanri4jri6QuXHJcbi8vIGFwcC5zZXQoXCJ2aWV3c1wiLCBfX2Rpcm5hbWUgKyBcIi92aWV3c1wiKTsgOiBFeHByZXNzIOyVseydmCDrt7Ao7YWc7ZSM66a/IO2MjOydvCnqsIAg7J6I64qUIOuUlOugie2GoOumrOulvCDshKTsoJXtlanri4jri6QuIF9fZGlybmFtZeydgCDtmITsnqwg7YyM7J287J2YIOqyveuhnOulvCDrgpjtg4DrgrTripQgTm9kZS5qcyDsoITsl60g67OA7IiY7J6F64uI64ukLlxyXG5cclxuLy8gYXBwLnVzZSgpIDogRXhwcmVzcyDrr7jrk6Tsm6jslrTrpbwg65Ox66Gd7ZWY64qUIOuplOyEnOuTnOyeheuLiOuLpC4g66+465Ok7Juo7Ja064qUIOyalOyyreqzvCDsnZHri7Ug7IKs7J207JeQIOychOy5mO2VmOyXrCDsmpTssq3snbQg65Ok7Ja07JisIOuVjOuniOuLpCDsi6TtlonrkJjripQg7ZWo7IiY7J6F64uI64ukLlxyXG4vLyAgICAgXCIvcHVibGljXCIgOiDsnbTripQg65287Jqw7Yq47J2YIOqyveuhnOulvCDsp4DsoJXtlanri4jri6QuIOydtCDsvZTrk5zsl5DshJzripQgXCIvcHVibGljXCIg6rK966Gc66GcIOuTpOyWtOyYpOuKlCDsmpTssq3sl5Ag64yA7ZW0IOuvuOuTpOybqOyWtOulvCDsoIHsmqntlZjqsqDri6TripQg7J2Y66+47J6F64uI64ukLlxyXG4vLyBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUrXCIvcHVibGljXCIpIDogZXhwcmVzcy5zdGF0aWPsnYAgRXhwcmVzc+qwgCDsoJzqs7XtlZjripQg67mM7Yq47J24IOuvuOuTpOybqOyWtOuhnCwg7KCV7KCBIO2MjOydvOydhCDsoJzqs7XtlZjripQg7Jet7ZWg7J2EIO2VqeuLiOuLpC4gXHJcbi8vICAgICDsnbQg7L2U65Oc7JeQ7ISc64qUIF9fZGlybmFtZStcIi9wdWJsaWNcIiDqsr3roZzsl5Ag7J6I64qUIOygleyggSDtjIzsnbwo7J2066+47KeALCBDU1Mg7YyM7J28LCBKYXZhU2NyaXB0IO2MjOydvCDrk7Ep7J2EIFwiL3B1YmxpY1wiIOqyveuhnOuhnCDsoJHqt7ztlaAg7IiYIOyeiOuPhOuhnSDshKTsoJXtlZjqs6Ag7J6I7Iq164uI64ukXHJcblxyXG4vLyBhcHAuZ2V0KFwiL1wiLCAocmVxLHJlcykgPT4gcmVzLnJlbmRlcihcImhvbWVcIikpOyA6IOujqO2KuCBVUkwoJy8nKeyXkCBHRVQg7JqU7LKt7J20IOuTpOyWtOyYpOuptCBob21lIO2FnO2UjOumv+ydhCDroIzrjZTrp4HtlZjsl6wg7J2R64u17ZWp64uI64ukLiByZXHripQg7JqU7LKtIOqwneyytCwgcmVz64qUIOydkeuLtSDqsJ3ssrTrpbwg64KY7YOA64OF64uI64ukLlxyXG4vLyBhcHAuZ2V0KFwiLypcIiwgKHJlcSxyZXMpID0+IHJlcy5yZWRpcmVjdChcIi9cIikpIDog66Oo7Yq4IFVSTCgnLycp66W8IOygnOyZuO2VnCDrqqjrk6AgVVJM7JeQIEdFVCDsmpTssq3snbQg65Ok7Ja07Jik66m0IOujqO2KuCBVUkwoJy8nKeuhnCDrpqzri6TsnbTroIntirjtlanri4jri6QuXHJcblxyXG5hcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJwdWdcIik7XHJcbmFwcC5zZXQoXCJ2aWV3c1wiLCBfX2Rpcm5hbWUgKyBcIi92aWV3c1wiKTtcclxuXHJcbmFwcC51c2UoXCIvcHVibGljXCIsIGV4cHJlc3Muc3RhdGljKF9fZGlybmFtZSArIFwiL3B1YmxpY1wiKSk7XHJcblxyXG5hcHAuZ2V0KFwiL1wiLCAocmVxLHJlcykgPT4gcmVzLnJlbmRlcihcImhvbWVcIikpO1xyXG5hcHAuZ2V0KFwiLypcIiwgKHJlcSxyZXMpID0+IHJlcy5yZWRpcmVjdChcIi9cIikpO1xyXG5cclxuXHJcbi8vIGNvbnN0IGhhbmRlbExpc3RlbiA9ICgpID0+IGNvbnNvbGUubG9nKFwi65Oj6rOgIOyeiOyWtCBodHRwOi8vbG9jYWxob3N0OjMwMDBcIikgOiDshJzrsoTqsIAgMzAwMOuyiCDtj6ztirjsl5DshJwg66as7Iqk64ud7J2EIOyLnOyeke2VoCDrlYwg7L2Y7IaU7JeQIOuplOyLnOyngOulvCDstpzroKXtlZjripQg7ZWo7IiY66W8IOygleydmO2VqeuLiOuLpC5cclxuLy8gYXBwLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pOyA6IEV4cHJlc3Mg7JWx7J2EIDMwMDDrsogg7Y+s7Yq47JeQ7IScIOyLnOyeke2VmOqzoCwg66as7Iqk64ud7J2EIOyLnOyeke2VmOuptCBoYW5kZWxMaXN0ZW4g7ZWo7IiY66W8IO2YuOy2nO2VqeuLiOuLpC5cclxuXHJcbi8vIGNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7IDogaHR0cCDrqqjrk4jsnZggY3JlYXRlU2VydmVyIOuplOyEnOuTnOulvCDsgqzsmqntlbQgSFRUUCDshJzrsoTrpbwg7IOd7ISx7ZWY6rOgLCDsnbTsoITsl5Ag7KCV7J2Y7ZWcIEV4cHJlc3Mg7JWxKGFwcCnsnYQg7ISc67KE7JeQIOyXsOqysO2VqeuLiOuLpC5cclxuLy8gY29uc3Qgd3NzID0gbmV3ICBXZWJTb2NrZXQuU2VydmVyKHtzZXJ2ZXJ9KTsgOiB3cyDrqqjrk4jsnZggU2VydmVyIO2BtOuemOyKpOulvCDsgqzsmqntlbQgV2ViU29ja2V0IOyEnOuyhOulvCDsg53shLHtlZjqs6AsIOydtOulvCBIVFRQIOyEnOuyhOyXkCDsl7DqsrDtlanri4jri6QuIFxyXG4vLyDsnbTroZzsjaggSFRUUOyZgCBXZWJTb2NrZXQg7JqU7LKt7J2EIOuPmeydvO2VnCDtj6ztirjsl5DshJwg7LKY66as7ZWgIOyImCDsnojqsowg65Cp64uI64ukLlxyXG5cclxuY29uc3QgaGFuZGVsTGlzdGVuID0gKCkgPT4gY29uc29sZS5sb2coXCLsl7DqsrAg7KSRIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiKTtcclxuLy8gYXBwLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pO1xyXG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xyXG5jb25zdCB3c3MgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7c2VydmVyfSk7XHJcblxyXG5cclxuLy8gZnVuY3Rpb24gaGFuZGVsQ29ubmVjdGlvbihzb2NrZXQpIHsgY29uc29sZS5sb2coc29ja2V0KTsgfSA6IO2BtOudvOydtOyWuO2KuOqwgCBXZWJTb2NrZXQg7ISc67KE7JeQIOyXsOqysOuQmOyXiOydhCDrlYwg7Iuk7ZaJ65CY64qUIOy9nOuwsSDtlajsiJjrpbwg7KCV7J2Y7ZWp64uI64ukLiBcclxuLy8gICAgIOydtCDtlajsiJjripQg7Jew6rKw65CcIO2BtOudvOydtOyWuO2KuOydmCDshozsvJMg6rCd7LK0KHNvY2tldCnrpbwg7YyM652866+47YSw66GcIOuwm+yVhOyEnCDqt7gg7KCV67O066W8IOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuIOydtCBzb2NrZXQg6rCd7LK066W8IO2Gte2VtCDsl7DqsrDrkJwg7YG065287J207Ja47Yq47JmAIOuNsOydtO2EsOulvCDso7zqs6DrsJvsnYQg7IiYIOyeiOyKteuLiOuLpC5cclxuXHJcbi8vIHdzcy5vbihcImNvbm5lY3Rpb25cIiwgaGFuZGVsQ29ubmVjdGlvbik7IDogd3NzIFdlYlNvY2tldCDshJzrsoTsl5DshJwgXCJjb25uZWN0aW9uXCIg7J2067Kk7Yq46rCAIOuwnOyDne2WiOydhCDrlYwsIOymiSDtgbTrnbzsnbTslrjtirjqsIAg7ISc67KE7JeQIOyXsOqysOuQmOyXiOydhCDrlYwgaGFuZGVsQ29ubmVjdGlvbiDtlajsiJjrpbwg7Iuk7ZaJ7ZWY64+E66GdIOyEpOygle2VqeuLiOuLpC5cclxuXHJcbi8vIOuUsOudvOyEnCDtgbTrnbzsnbTslrjtirjqsIAg7J20IFdlYlNvY2tldCDshJzrsoTsl5Ag7Jew6rKw7J2EIOyLnOuPhO2VmOuptCwg7ISc67KE64qUIOydtOulvCDqsJDsp4DtlZjqs6AgaGFuZGVsQ29ubmVjdGlvbiDtlajsiJjrpbwg7Iuk7ZaJ7ZWY7JesIO2BtOudvOydtOyWuO2KuCDshozsvJPsnZgg7KCV67O066W8IOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuIFxyXG4vLyAgICAg7J2066CH6rKMIO2VqOycvOuhnOyNqCDshJzrsoTripQg7Ja065akIO2BtOudvOydtOyWuO2KuOqwgCDsl7DqsrDrkJjsl4jripTsp4Ag7ZmV7J247ZWgIOyImCDsnojsirXri4jri6QuXHJcblxyXG4vKiBcclxuICAgIGZ1bmN0aW9uIGhhbmRlbENvbm5lY3Rpb24oc29ja2V0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coc29ja2V0KTtcclxuICAgIH0gXHJcblxyXG4gICAgd3NzLm9uKFwiY29ubmVjdGlvblwiLCBoYW5kZWxDb25uZWN0aW9uKTtcclxuKi9cclxuXHJcblxyXG4vLyB3c3Mub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHsuLi59KTsgOiDsnbQg67aA67aE7J2AIHdzcyBXZWJTb2NrZXQg7ISc67KE7JeQ7IScIFwiY29ubmVjdGlvblwiIOydtOuypO2KuOqwgCDrsJzsg53tlojsnYQg65WMLCBcclxuLy8g7KaJIO2BtOudvOydtOyWuO2KuOqwgCDshJzrsoTsl5Ag7Jew6rKw65CY7JeI7J2EIOuVjCDsi6TtlonrkJjripQg7L2c67CxIO2VqOyImOulvCDshKTsoJXtlZjripQg67aA67aE7J6F64uI64ukLiDsl7DqsrDrkJwg7YG065287J207Ja47Yq47J2YIOyGjOy8kyDqsJ3ssrTripQgc29ja2V0IO2MjOudvOuvuO2EsOuhnCDsoITri6zrkKnri4jri6QuXHJcbiAgICAvLyBcImNvbnNvbGUubG9nKFwic29ja2V0XCIsIHNvY2tldClcIuuKlCBcInNvY2tldFwi652864qUIOusuOyekOyXtOqzvCBzb2NrZXQg6rCd7LK066W8IOuzhOqwnOuhnCDstpzroKXtlanri4jri6QuIOydtCDrsKnsi53snYQg7IKs7Jqp7ZWY66m0IHNvY2tldCDqsJ3ssrTsnZgg64K07Jqp7J2EIOyekOyEuO2eiCDrs7wg7IiYIOyeiOyKteuLiOuLpC5cclxuICAgIC8vIFwiY29uc29sZS5sb2coXCJzb2NrZXRcIiArIHNvY2tldClcIuuKlCBcInNvY2tldFwi652864qUIOusuOyekOyXtOqzvCBzb2NrZXQg6rCd7LK066W8IOusuOyekOyXtCDsl7DqsrAg7Jew7IKw7J6QKCsp66W8IOyCrOyaqe2VmOyXrCDtlZjrgpjsnZgg66y47J6Q7Je066GcIOunjOuTpOyWtCDstpzroKXtlanri4jri6QuIFxyXG4gICAgLy8gICAgIOydtCDqsr3smrAsIHNvY2tldCDqsJ3ssrTqsIAg66y47J6Q7Je066GcIOuzgO2ZmOuQmOyWtCDstpzroKXrkJjrr4DroZwsIFtvYmplY3QgT2JqZWN0XeyZgCDqsJnsnbQg7Lac66Cl65CgIOyImCDsnojsirXri4jri6QuXHJcbiAgICAvLyDrlLDrnbzshJwsIOqwneyytOydmCDrgrTsmqnsnYQg7J6Q7IS47Z6IIOuztOqzoCDsi7bri6TrqbQgXCJjb25zb2xlLmxvZyhcInNvY2tlXCIsIHNvY2tldClcIiDrsKnsi53snYQsIOqwneyytOulvCDrrLjsnpDsl7Tqs7wg7ZWo6ruYIO2VnCDspITroZwg7Lac66Cl7ZWY6rOgIOyLtuuLpOuptCBcImNvbnNvbGUubG9nKFwic29ja2VcIiArIHNvY2tldClcIiDrsKnsi53snYQg7IKs7Jqp7ZWY66m0IOuQqeuLiOuLpC5cclxuICAgIC8vIHNvY2tldHMucHVzaChzb2NrZXQpOiDsg4jroZwg7Jew6rKw65CcIOybueyGjOy8k+ydhCBzb2NrZXRzIOuwsOyXtOyXkCDstpTqsIDtlanri4jri6QuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIuu4jOudvOyasOyggOyZgCDsl7DqsrDrkJjsl4jsirXri4jri6QuXCIpOyA6IO2BtOudvOydtOyWuO2KuOyZgCDsl7DqsrDsnbQg7ISx6rO17ZWY66m0IOy9mOyGlOyXkCBcIuu4jOudvOyasOyggOyZgCDsl7DqsrDrkJjsl4jsirXri4jri6QuXCLrnbzripQg66mU7Iuc7KeA66W8IOy2nOugpe2VqeuLiOuLpC5cclxuICAgIC8vIHNvY2tldC5vbihcImNsb3NlXCIsICgpID0+IGNvbnNvbGUubG9nKFwi7ISc67KEID4g7ISc67KE7JmAIOyXsOqysOydtCDrgYrqsrzsirXri4jri6QuXCIpKTsgOiDtgbTrnbzsnbTslrjtirjsmYDsnZgg7Jew6rKw7J20IOuLq+2YlOydhCDrlYwg7Iuk7ZaJ65CY64qUIOy9nOuwsSDtlajsiJjrpbwg7ISk7KCV7ZWp64uI64ukLiBcclxuICAgIC8vICAgICDsnbQg6rK97JqwIOyXsOqysOydtCDri6vtnojrqbQg7L2Y7IaU7JeQIFwi7ISc67KEID4g7ISc67KE7JmAIOyXsOqysOydtCDrgYrqsrzsirXri4jri6QuXCLrnbzripQg66mU7Iuc7KeA66W8IOy2nOugpe2VqeuLiOuLpC5cclxuICAgIC8vIHNvY2tldC5vbihcIm1lc3NhZ2VcIiwgKG1lc3NhZ2UpID0+IHsuLi59KSA6IO2BtOudvOydtOyWuO2KuOuhnOu2gO2EsCDrqZTsi5zsp4Drpbwg67Cb7JWY7J2EIOuVjCDsi6TtlonrkJjripQg7L2c67CxIO2VqOyImOulvCDshKTsoJXtlanri4jri6QuIOydtCDqsr3smrAg66mU7Iuc7KeA66W8IOuwm+ycvOuptCDrsJvsnYAg66mU7Iuc7KeA66W8IOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuXHJcbiAgICAgICAgLy8gY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UobXNnKTog7YG065287J207Ja47Yq47JeQ7IScIOuztOuCuCDrqZTsi5zsp4DrpbwgSlNPTu2YleyLneycvOuhnCDtjIzsi7Htlanri4jri6QuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coW+yEnOuyhF0gOiAke21lc3NhZ2V9KTs6IOydtCDsvZTrk5zripQg7ISc67KEIOy4oeyXkOyEnCDsi6TtlonrkJjrqbAsIOyEnOuyhOydmCDsvZjshpTsl5AgXCJb7ISc67KEXSA6IFwi652864qUIOusuOyekOyXtOqzvCDtlajqu5gg7YG065287J207Ja47Yq466Gc67aA7YSwIOuwm+ydgCDrqZTsi5zsp4Drpbwg7Lac66Cl7ZWp64uI64ukLiBcclxuICAgICAgICAvLyDsnbTripQg7KO866GcIOqwnOuwnOyekOqwgCDshJzrsoTsl5DshJwg7YG065287J207Ja47Yq466Gc67aA7YSwIOyWtOuWpCDrqZTsi5zsp4Drpbwg67Cb7JWY64qU7KeAIO2ZleyduO2VmOq4sCDsnITtlbQg7IKs7Jqp65Cp64uI64ukLlxyXG4gICAgICAgIC8vIHNvY2tldC5zZW5kKFvshJzrsoRdIDogJHttZXNzYWdlfSk7OiDsnbQg7L2U65Oc64qUIOyEnOuyhOqwgCDtgbTrnbzsnbTslrjtirjroZwg66mU7Iuc7KeA66W8IOuztOuCtOuKlCDsvZTrk5zsnoXri4jri6QuIFwiW+yEnOuyhF0gOiBcIuudvOuKlCDrrLjsnpDsl7Tqs7wg7ZWo6ruYIO2BtOudvOydtOyWuO2KuOuhnOu2gO2EsCDrsJvsnYAg66mU7Iuc7KeA66W8IOq3uOuMgOuhnCDtgbTrnbzsnbTslrjtirjsl5Dqsowg67O064OF64uI64ukLiBcclxuICAgICAgICAvLyDsnbTripQg7Ju57IaM7LyT7J2EIO2Gte2VtCDsi6Tsi5zqsITsnLzroZwg7ISc67KE7JmAIO2BtOudvOydtOyWuO2KuCDqsITsnZgg642w7J207YSw66W8IOyjvOqzoOuwm+uKlCDrjbAg7IKs7Jqp65Cp64uI64ukLlxyXG4gICAgICAgIC8vIHNvY2tldHMuZm9yRWFjaChhU29ja2V0ID0+IGFTb2NrZXQuc2VuZCgke21lc3NhZ2V9KSk6IHNvY2tldHMg67Cw7Je07JeQIOyeiOuKlCDrqqjrk6Ag7Ju57IaM7LyT7JeQIOuplOyLnOyngOulvCDrs7Trg4Xri4jri6QuIOydtOulvCDthrXtlbQg7ISc67KE64qUIOuwm+ydgCDrqZTsi5zsp4Drpbwg66qo65OgIO2BtOudvOydtOyWuO2KuOyXkOqyjCDruIzroZzrk5zsupDsiqTtjIXtlanri4jri6QuXHJcblxyXG4gICAgICAgIC8vIHN3aXRjaChtZXNzYWdlLnR5cGUpIHsuLi59IDogbWVzc2FnZS50eXBl7J2YIOqwkuyXkCDrlLDrnbwg64uk66W4IOy9lOuTnCDruJTroZ3snbQg7Iuk7ZaJ65Cp64uI64ukLiBtZXNzYWdl64qUIO2BtOudvOydtOyWuO2KuOyXkOyEnCDshJzrsoTroZwg67O064K4IOuplOyLnOyngOulvCBKU09OIO2Yle2DnOuhnCDtjIzsi7HtlZwg6rCd7LK07J6F64uI64ukLlxyXG4gICAgICAgIC8vIGNhc2UgXCJuZXdfbWVzc2FnZVwiOiA6IOuplOyLnOyngOydmCDtg4DsnoXsnbQgXCJuZXdfbWVzc2FnZVwi7J24IOqyveyasCDri6TsnYwg7L2U65Oc66W8IOyLpO2Wie2VqeuLiOuLpC5cclxuICAgICAgICAvLyBzb2NrZXRzLmZvckVhY2goYVNvY2tldCA9PiBhU29ja2V0LnNlbmQoJHtzb2NrZXQubmlja25hbWV9OiR7bWVzc2FnZS5wYXlsb2FkfSkpOyA6IO2YhOyerCDsl7DqsrDrkJwg66qo65OgIOyGjOy8k+yXkCDrqZTsi5zsp4Drpbwg7KCE7Iah7ZWp64uI64ukLiBcclxuICAgICAgICAvLyDrqZTsi5zsp4DripQg67O064K4IOyCrOuejOydmCDri4nrhKTsnoTqs7wg66mU7Iuc7KeAIOuCtOyaqeydhCDtlanss5DshJwg7KCE7Iah65Cp64uI64ukLiDsl6zquLDshJwgc29ja2V0Lm5pY2tuYW1l7J2AIOuplOyLnOyngOulvCDrs7Trgrgg7IKs656M7J2YIOuLieuEpOyehOydtOqzoCwgbWVzc2FnZS5wYXlsb2Fk64qUIOuplOyLnOyngCDrgrTsmqnsnoXri4jri6QuXHJcbiAgICAgICAgLy8gY2FzZSBcIm5pY2tuYW1lXCI6IDog66mU7Iuc7KeA7J2YIO2DgOyeheydtCBcIm5pY2tuYW1lXCLsnbgg6rK97JqwIOuLpOydjCDsvZTrk5zrpbwg7Iuk7ZaJ7ZWp64uI64ukLlxyXG4gICAgICAgIC8vIHNvY2tldFtcIm5pY2tuYW1lXCJdID0gbWVzc2FnZS5wYXlsb2FkOyA6IOuplOyLnOyngOulvCDrs7Trgrgg7IKs656M7J2YIOuLieuEpOyehOydhCBtZXNzYWdlLnBheWxvYWTroZwg67OA6rK97ZWp64uI64ukLlxyXG4gICAgICAgIC8vIGJyZWFrOyA6IHN3aXRjaCDrrLjsnYQg67mg7KC464KY7Ji164uI64ukLiDsnbQg7YKk7JuM65Oc6rCAIOyXhuycvOuptCwg7ZW064u5IGNhc2Ug67iU66GdIOydtO2bhOydmCDsvZTrk5zrj4Qg7Iuk7ZaJ65Cp64uI64ukLlxyXG4gICAgICAgIC8vIOymiSwg7YG065287J207Ja47Yq47JeQ7IScIOuplOyLnOyngCDtg4DsnoXsnbQgXCJuZXdfbWVzc2FnZVwi66GcIOuztOuCtOuptCwg7ZW064u5IOuplOyLnOyngOulvCDshJzrsoTsl5Ag7Jew6rKw65CcIOuqqOuToCDtgbTrnbzsnbTslrjtirjsl5Dqsowg7KCE7Iah7ZWY6rOgLCBcclxuICAgICAgICAvLyDrqZTsi5zsp4Ag7YOA7J6F7J20IFwibmlja25hbWVcIuyduCDqsr3smrAsIOuplOyLnOyngOulvCDrs7Trgrgg7IKs656M7J2YIOuLieuEpOyehOydhCDrs4Dqsr3tlZjripQg7J6R7JeF7J2EIOyImO2Wie2VqeuLiOuLpC5cclxuICAgXHJcbiAgICAvLyBzb2NrZXQuc2VuZChcIuyViOuFlT9cIik7IDog7YG065287J207Ja47Yq47JmAIOyXsOqysOydtCDshLHqs7XtlZjrqbQg7YG065287J207Ja47Yq47JeQ6rKMIFwi7JWI64WVP1wiIOuplOyLnOyngOulvCDrs7Trg4Xri4jri6QuIFxyXG5cclxuLy8gc2VydmVyLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pOyA6IEhUVFAg7ISc67KE66W8IDMwMDDrsogg7Y+s7Yq47JeQ7IScIOyLnOyeke2VmOqzoCwg66as7Iqk64ud7J2EIOyLnOyeke2VmOuptCBoYW5kZWxMaXN0ZW4g7ZWo7IiY66W8IO2YuOy2nO2VqeuLiOuLpC5cclxuXHJcbmNvbnN0IHNvY2tldHMgPSBbXTtcclxuXHJcbndzcy5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJzb2NrZXRcIiwgc29ja2V0KTtcclxuICAgIGNvbnNvbGUubG9nKFwic29ja2V0XCIgKyBzb2NrZXQpO1xyXG4gICAgc29ja2V0cy5wdXNoKHNvY2tldCk7XHJcbiAgICBzb2NrZXRbXCJuaWNrbmFtZVwiXSA9IFwi7J2166qFXCI7IFxyXG4gICAgY29uc29sZS5sb2coXCLruIzrnbzsmrDsoIDsmYAg7Jew6rKw65CY7JeI7Iq164uI64ukLlwiKTtcclxuICAgIHNvY2tldC5vbihcImNsb3NlXCIsICgpID0+IGNvbnNvbGUubG9nKFwi7ISc67KEID4g7ISc67KE7JmAIOyXsOqysOydtCDrgYrqsrzsirXri4jri6QuXCIpKTtcclxuICAgIHNvY2tldC5vbihcIm1lc3NhZ2VcIiwgKG1zZykgPT4geyBcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShtc2cpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UudHlwZSwgbWVzc2FnZS5wYXlsb2FkKTsgLy8g7YG065287J207Ja47Yq47JeQ7IScIOuwm+ydgCBKU09OIO2DgOyeheydmCBrZXnqsJLsnYQg67Cb7JWE7IScIHZhbHVl66W8IOuwmO2ZmFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBb7ISc67KEXSA6ICR7bWVzc2FnZX1gKTsgLy8g7YG065287J207Ja47Yq47JeQ7IScIOuwm+ydgCDrqZTshLjsp4BcclxuICAgICAgICAvLyBzb2NrZXQuc2VuZChgW+yEnOuyhF0gOiAke21lc3NhZ2V9YCk7IC8vIO2BtOudvOydtOyWuO2KuOyXkOyEnCDrsJvsnYAg66mU7IS47KeA66W8IO2BtOudvOydtOyWuO2KuOuhnCDrs7TrgrTripQg66mU7Iuc7KeAXHJcbiAgICAgICAgLy8gc29ja2V0cy5mb3JFYWNoKGFTb2NrZXQgPT4gYVNvY2tldC5zZW5kKGAke21lc3NhZ2V9YCkpOyAvLyDtgbTrnbzsnbTslrjtirjsl5DshJwg67Cb7J2AIOuplOyEuOyngOulvCDshozsvJPsl5Ag7Jew6rKw65CcIOuqqOuToCDtgbTrnbzsnbTslrjtirjroZwg67O064K064qUIOuplOyEuOyngFxyXG5cclxuICAgICAgICBzd2l0Y2gobWVzc2FnZS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJuZXdfbWVzc2FnZVwiOlxyXG4gICAgICAgICAgICAgICAgLy8gc29ja2V0cy5mb3JFYWNoKGFTb2NrZXQgPT4gYVNvY2tldC5zZW5kKGAke21lc3NhZ2UucGF5bG9hZH1gKSk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXRzLmZvckVhY2goYVNvY2tldCA9PiBhU29ja2V0LnNlbmQoYCR7c29ja2V0Lm5pY2tuYW1lfToke21lc3NhZ2UucGF5bG9hZH1gKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm5pY2tuYW1lXCI6XHJcbiAgICAgICAgICAgICAgICBzb2NrZXRbXCJuaWNrbmFtZVwiXSA9IG1lc3NhZ2UucGF5bG9hZFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyBzb2NrZXQuc2VuZChcIuyViOuFlT9cIik7IC8vIO2BtOudvOydtOyWuO2KuOuhnCDrs7TrgrTripQg66mU7IS47KeAXHJcbn0pO1xyXG5cclxuc2VydmVyLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pO1xyXG5cclxuXHJcblxyXG5pbXBvcnQgU29ja2V0SU8gZnJvbSBcInNvY2tldC5pb1wiXHJcblxyXG53c1NlcnZlci5vbihcImNvbm5ldGN0aW9uXCIsIChzb2NrZXQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHNvY2tldCk7XHJcbiAgICBzb2NrZXQub24oXCJlbnRlcl9yb29tXCIsIChyb29tTmFtZSkgPT4gY29uc29sZS5sb2cocm9vbU5hbWUpKTtcclxufSk7XHJcblxyXG5jb25zdCBodHRwU2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcclxuY29uc3Qgd3NTZXJ2ZXIgPSBTb2NrZXRJTyhodHRwU2VydmVyKTtcclxuXHJcbmNvbnN0IGhhbmRlbExpc3RlbjEgPSAoKSA9PiBjb25zb2xlLmxvZyhcImxpc3RlbmluZyBvbiBodHRwOi8vbG9jYWxob3N0OjMwMDBcIik7XHJcbmh0dHBTZXJ2ZXIubGlzdGVuKDMwMDAsIGhhbmRlbExpc3RlbjEpOyJdLCJtYXBwaW5ncyI6Ijs7QUFHQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUF5SEEsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsZ0JBQUFBLEdBQUE7QUE5SGhDO0FBQ0E7QUFDQTs7QUFLQTtBQUNBLElBQU1FLEdBQUcsR0FBRyxJQUFBQyxtQkFBTyxFQUFDLENBQUM7O0FBR3JCO0FBQ0E7O0FB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","map":{"version":3,"names":["_http","_interopRequireDefault","require","_ws","_express","_socket","obj","__esModule","app","express","set","__dirname","use","get","req","res","render","redirect","handelListen","console","log","server","http","createServer","wss","WebSocket","Server","sockets","on","socket","push","msg","message","JSON","parse","type","payload","forEach","aSocket","send","concat","nickname","listen","wsServer","roomName","httpServer","SocketIO","handelListen1"],"sourceRoot":"C:\\MySource\\soom\\src\\","sources":["server.js"],"sourcesContent":["// import http from \"http\"; : Node.js의 내장 모듈인 http를 불러옵니다. 이 모듈은 HTTP 서버를 생성하는 데 사용됩니다.\r\n// import WebSocket from 'ws'; : WebSocket 프로토콜을 구현한 ws 모듈을 불러옵니다. WebSocket은 클라이언트와 서버 간에 실시간 양방향 통신을 가능하게 하는 프로토콜입니다.\r\n// import express from 'express'; : Express 모듈을 불러옵니다. Express는 Node.js를 위한 웹 애플리케이션 프레임워크입니다.\r\nimport http from \"http\";\r\nimport WebSocket from 'ws';\r\nimport express from 'express';\r\n\r\n// const app = express(); : Express 인스턴스를 생성하여 app 변수에 저장합니다.\r\nconst app = express();\r\n\r\n\r\n// app.set(\"view engine\", \"pug\"); : Express 앱의 뷰 엔진을 Pug로 설정합니다. 뷰 엔진은 템플릿 파일을 렌더링하는 역할을 합니다.\r\n// app.set(\"views\", __dirname + \"/views\"); : Express 앱의 뷰(템플릿 파일)가 있는 디렉토리를 설정합니다. __dirname은 현재 파일의 경로를 나타내는 Node.js 전역 변수입니다.\r\n\r\n// app.use() : Express 미들웨어를 등록하는 메서드입니다. 미들웨어는 요청과 응답 사이에 위치하여 요청이 들어올 때마다 실행되는 함수입니다.\r\n//     \"/public\" : 이는 라우트의 경로를 지정합니다. 이 코드에서는 \"/public\" 경로로 들어오는 요청에 대해 미들웨어를 적용하겠다는 의미입니다.\r\n// express.static(__dirname+\"/public\") : express.static은 Express가 제공하는 빌트인 미들웨어로, 정적 파일을 제공하는 역할을 합니다. \r\n//     이 코드에서는 __dirname+\"/public\" 경로에 있는 정적 파일(이미지, CSS 파일, JavaScript 파일 등)을 \"/public\" 경로로 접근할 수 있도록 설정하고 있습니다\r\n\r\n// app.get(\"/\", (req,res) => res.render(\"home\")); : 루트 URL('/')에 GET 요청이 들어오면 home 템플릿을 렌더링하여 응답합니다. req는 요청 객체, res는 응답 객체를 나타냅니다.\r\n// app.get(\"/*\", (req,res) => res.redirect(\"/\")) : 루트 URL('/')를 제외한 모든 URL에 GET 요청이 들어오면 루트 URL('/')로 리다이렉트합니다.\r\n\r\napp.set(\"view engine\", \"pug\");\r\napp.set(\"views\", __dirname + \"/views\");\r\n\r\napp.use(\"/public\", express.static(__dirname + \"/public\"));\r\n\r\napp.get(\"/\", (req,res) => res.render(\"home\"));\r\napp.get(\"/*\", (req,res) => res.redirect(\"/\"));\r\n\r\n\r\n// const handelListen = () => console.log(\"듣고 있어 http://localhost:3000\") : 서버가 3000번 포트에서 리스닝을 시작할 때 콘솔에 메시지를 출력하는 함수를 정의합니다.\r\n// app.listen(3000, handelListen); : Express 앱을 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\r\n\r\n// const server = http.createServer(app); : http 모듈의 createServer 메서드를 사용해 HTTP 서버를 생성하고, 이전에 정의한 Express 앱(app)을 서버에 연결합니다.\r\n// const wss = new  WebSocket.Server({server}); : ws 모듈의 Server 클래스를 사용해 WebSocket 서버를 생성하고, 이를 HTTP 서버에 연결합니다. \r\n// 이로써 HTTP와 WebSocket 요청을 동일한 포트에서 처리할 수 있게 됩니다.\r\n\r\nconst handelListen = () => console.log(\"연결 중 http://localhost:3000\");\r\n// app.listen(3000, handelListen);\r\nconst server = http.createServer(app);\r\nconst wss = new WebSocket.Server({server});\r\n\r\n\r\n// function handelConnection(socket) { console.log(socket); } : 클라이언트가 WebSocket 서버에 연결되었을 때 실행되는 콜백 함수를 정의합니다. \r\n//     이 함수는 연결된 클라이언트의 소켓 객체(socket)를 파라미터로 받아서 그 정보를 콘솔에 출력합니다. 이 socket 객체를 통해 연결된 클라이언트와 데이터를 주고받을 수 있습니다.\r\n\r\n// wss.on(\"connection\", handelConnection); : wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, 즉 클라이언트가 서버에 연결되었을 때 handelConnection 함수를 실행하도록 설정합니다.\r\n\r\n// 따라서 클라이언트가 이 WebSocket 서버에 연결을 시도하면, 서버는 이를 감지하고 handelConnection 함수를 실행하여 클라이언트 소켓의 정보를 콘솔에 출력합니다. \r\n//     이렇게 함으로써 서버는 어떤 클라이언트가 연결되었는지 확인할 수 있습니다.\r\n\r\n/* \r\n    function handelConnection(socket) {\r\n        console.log(socket);\r\n    } \r\n\r\n    wss.on(\"connection\", handelConnection);\r\n*/\r\n\r\n\r\n// wss.on(\"connection\", (socket) => {...}); : 이 부분은 wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, \r\n// 즉 클라이언트가 서버에 연결되었을 때 실행되는 콜백 함수를 설정하는 부분입니다. 연결된 클라이언트의 소켓 객체는 socket 파라미터로 전달됩니다.\r\n    // \"console.log(\"socket\", socket)\"는 \"socket\"라는 문자열과 socket 객체를 별개로 출력합니다. 이 방식을 사용하면 socket 객체의 내용을 자세히 볼 수 있습니다.\r\n    // \"console.log(\"socket\" + socket)\"는 \"socket\"라는 문자열과 socket 객체를 문자열 연결 연산자(+)를 사용하여 하나의 문자열로 만들어 출력합니다. \r\n    //     이 경우, socket 객체가 문자열로 변환되어 출력되므로, [object Object]와 같이 출력될 수 있습니다.\r\n    // 따라서, 객체의 내용을 자세히 보고 싶다면 \"console.log(\"socke\", socket)\" 방식을, 객체를 문자열과 함께 한 줄로 출력하고 싶다면 \"console.log(\"socke\" + socket)\" 방식을 사용하면 됩니다.\r\n    // sockets.push(socket): 새로 연결된 웹소켓을 sockets 배열에 추가합니다.\r\n    // console.log(\"브라우저와 연결되었습니다.\"); : 클라이언트와 연결이 성공하면 콘솔에 \"브라우저와 연결되었습니다.\"라는 메시지를 출력합니다.\r\n    // socket.on(\"close\", () => console.log(\"서버 > 서버와 연결이 끊겼습니다.\")); : 클라이언트와의 연결이 닫혔을 때 실행되는 콜백 함수를 설정합니다. \r\n    //     이 경우 연결이 닫히면 콘솔에 \"서버 > 서버와 연결이 끊겼습니다.\"라는 메시지를 출력합니다.\r\n    // socket.on(\"message\", (message) => {...}) : 클라이언트로부터 메시지를 받았을 때 실행되는 콜백 함수를 설정합니다. 이 경우 메시지를 받으면 받은 메시지를 콘솔에 출력합니다.\r\n        // const message = JSON.parse(msg): 클라이언트에서 보낸 메시지를 JSON형식으로 파싱합니다.\r\n        // console.log([서버] : ${message});: 이 코드는 서버 측에서 실행되며, 서버의 콘솔에 \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 출력합니다. \r\n        // 이는 주로 개발자가 서버에서 클라이언트로부터 어떤 메시지를 받았는지 확인하기 위해 사용됩니다.\r\n        // socket.send([서버] : ${message});: 이 코드는 서버가 클라이언트로 메시지를 보내는 코드입니다. \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 그대로 클라이언트에게 보냅니다. \r\n        // 이는 웹소켓을 통해 실시간으로 서버와 클라이언트 간의 데이터를 주고받는 데 사용됩니다.\r\n        // sockets.forEach(aSocket => aSocket.send(${message})): sockets 배열에 있는 모든 웹소켓에 메시지를 보냅니다. 이를 통해 서버는 받은 메시지를 모든 클라이언트에게 브로드캐스팅합니다.\r\n\r\n        // switch(message.type) {...} : message.type의 값에 따라 다른 코드 블록이 실행됩니다. message는 클라이언트에서 서버로 보낸 메시지를 JSON 형태로 파싱한 객체입니다.\r\n        // case \"new_message\": : 메시지의 타입이 \"new_message\"인 경우 다음 코드를 실행합니다.\r\n        // sockets.forEach(aSocket => aSocket.send(${socket.nickname}:${message.payload})); : 현재 연결된 모든 소켓에 메시지를 전송합니다. \r\n        // 메시지는 보낸 사람의 닉네임과 메시지 내용을 합쳐서 전송됩니다. 여기서 socket.nickname은 메시지를 보낸 사람의 닉네임이고, message.payload는 메시지 내용입니다.\r\n        // case \"nickname\": : 메시지의 타입이 \"nickname\"인 경우 다음 코드를 실행합니다.\r\n        // socket[\"nickname\"] = message.payload; : 메시지를 보낸 사람의 닉네임을 message.payload로 변경합니다.\r\n        // break; : switch 문을 빠져나옵니다. 이 키워드가 없으면, 해당 case 블록 이후의 코드도 실행됩니다.\r\n        // 즉, 클라이언트에서 메시지 타입이 \"new_message\"로 보내면, 해당 메시지를 서버에 연결된 모든 클라이언트에게 전송하고, \r\n        // 메시지 타입이 \"nickname\"인 경우, 메시지를 보낸 사람의 닉네임을 변경하는 작업을 수행합니다.\r\n   \r\n    // socket.send(\"안녕?\"); : 클라이언트와 연결이 성공하면 클라이언트에게 \"안녕?\" 메시지를 보냅니다. \r\n\r\n// server.listen(3000, handelListen); : HTTP 서버를 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\r\n\r\nconst sockets = [];\r\n\r\nwss.on(\"connection\", (socket) => {\r\n    console.log(\"socket\", socket);\r\n    console.log(\"socket\" + socket);\r\n    sockets.push(socket);\r\n    socket[\"nickname\"] = \"익명\"; \r\n    console.log(\"브라우저와 연결되었습니다.\");\r\n    socket.on(\"close\", () => console.log(\"서버 > 서버와 연결이 끊겼습니다.\"));\r\n    socket.on(\"message\", (msg) => { \r\n        const message = JSON.parse(msg);\r\n        console.log(message.type, message.payload); // 클라이언트에서 받은 JSON 타입의 key값을 받아서 value를 반환\r\n        // console.log(`[서버] : ${message}`); // 클라이언트에서 받은 메세지\r\n        // socket.send(`[서버] : ${message}`); // 클라이언트에서 받은 메세지를 클라이언트로 보내는 메시지\r\n        // sockets.forEach(aSocket => aSocket.send(`${message}`)); // 클라이언트에서 받은 메세지를 소켓에 연결된 모든 클라이언트로 보내는 메세지\r\n\r\n        switch(message.type) {\r\n            case \"new_message\":\r\n                // sockets.forEach(aSocket => aSocket.send(`${message.payload}`));\r\n                sockets.forEach(aSocket => aSocket.send(`${socket.nickname}:${message.payload}`));\r\n                break;\r\n            case \"nickname\":\r\n                socket[\"nickname\"] = message.payload\r\n                break;                \r\n        }\r\n    })\r\n    // socket.send(\"안녕?\"); // 클라이언트로 보내는 메세지\r\n});\r\n\r\nserver.listen(3000, handelListen);\r\n\r\n\r\n\r\nimport SocketIO from \"socket.io\"\r\n\r\nwsServer.on(\"connetction\", (socket) => {\r\n    console.log(socket);\r\n    socket.on(\"enter_room\", (roomName) => console.log(roomName));\r\n});\r\n\r\nconst httpServer = http.createServer(app);\r\nconst wsServer = SocketIO(httpServer);\r\n\r\nconst handelListen1 = () => console.log(\"listening on http://localhost:3000\");\r\nhttpServer.listen(3000, handelListen1);"],"mappings":"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"}},"mtime":1701219614793},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\MySource\\\\soom\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\MySource\\\\soom\",\"filename\":\"C:\\\\MySource\\\\soom\\\\src\\\\server1.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\MySource\\\\soom\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.3:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _http = _interopRequireDefault(require(\"http\"));\nvar _socket = _interopRequireWildcard(require(\"socket.io\"));\nvar _adminUi = require(\"@socket.io/admin-ui\");\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// import SocketIO from \"socket.io\" : Socket.IO 모듈을 임포트합니다. 이 모듈은 웹소켓 통신을 가능하게 해줍니다.\n\nvar app = (0, _express[\"default\"])();\napp.set(\"view engine\", \"pug\");\napp.set(\"views\", __dirname + \"/views\");\napp.use(\"/public\", _express[\"default\"][\"static\"](__dirname + \"/public\"));\napp.get(\"/\", function (req, res) {\n  return res.render(\"home\");\n});\napp.get(\"/*\", function (req, res) {\n  return res.redirect(\"/\");\n});\n\n// const wsServer = SocketIO(httpServer); : 생성한 HTTP 서버 위에 웹소켓 서버를 생성합니다.\n// wsServer.on(\"connection\", (socket) => {...}); : 웹소켓 서버에 클라이언트가 연결되면 발생하는 'connection' 이벤트에 대한 핸들러를 등록합니다. \n// 이 핸들러는 클라이언트로부터의 각 연결에 대해 실행됩니다.\n\nvar httpServer = _http[\"default\"].createServer(app);\n// const wsServer = SocketIO(httpServer);\nvar wsServer = new _socket.Server(httpServer, {\n  cors: {\n    origin: [\"https://admin.socket.io\"],\n    credentials: true\n  }\n});\n(0, _adminUi.instrument)(wsServer, {\n  auth: false\n});\n\n// 이 부분은 ES6의 구조 분해 할당 문법을 사용하여 wsServer의 sockets.adapter 객체에서 sids와 rooms를 추출하는 코드입니다. \n// sids는 각 소켓이 어떤 방에 들어가 있는지를 나타내는 Map 객체이며, rooms는 각 방에 어떤 소켓이 들어가 있는지를 나타내는 Map 객체입니다.\n\n// rooms Map 객체의 각 요소에 대해 반복을 수행하며, 각 방에 대한 정보를 가져와 해당 방이 공개된 채팅방인지를 판단합니다. \n// 공개된 채팅방이라면 publicRooms 배열에 추가합니다. 여기서 공개된 채팅방이라 함은, 방 이름이 소켓 ID와 일치하지 않는 방을 말합니다. \n// 소켓 ID와 방 이름이 일치하는 경우는 소켓이 생성될 때 각 소켓에 대해 자동으로 생성되는 개인방을 말합니다.\n\n// JavaScript의 Map 객체를 순회할 때, forEach() 메소드는 각 요소에 대해 콜백 함수를 호출하며, 이 콜백 함수는 첫 번째 인자로 요소의 value, 두 번째 인자로 요소의 key를 받습니다.\n//     JavaScript의 Map.forEach() 메서드의 인자 순서는 (value, key, map)입니다. 이 메서드는 각 항목에 대해 주어진 콜백 함수를 실행하며, 이 콜백 함수는 세 개의 인자를 받습니다.\n//     즉, rooms.forEach((value, key) => {...})는 rooms Map 객체의 각 요소를 순회하면서 value와 key를 차례대로 가져오는 것입니다.\n//     여기서 value는 각 방에 있는 사용자의 집합(Set)을 나타내고, key는 방의 이름을 나타냅니다.\n//     따라서 rooms.forEach((value, key) => {...})가 올바른 표현입니다. rooms.forEach((key, value) => {...})로 작성하게 되면, \n//     key와 value의 순서가 바뀌어 원치 않는 결과를 가져올 수 있습니다.\n\n// 이 경우, value는 각 방에 있는 사용자의 집합(Set)을 나타내고, key는 방 이름을 나타냅니다.\n//     sids.get(key) === undefined는 해당 방이 공개 방인지 아닌지를 판별하는 조건입니다. 만약 sids.get(key)가 undefined라면, \n//     그 방은 공개 방(public room)이라는 것이므로 publicRooms 배열에 추가합니다.\n//     따라서 이 함수는 서버의 모든 방을 순회하면서 공개 방만을 찾아내는 역할을 합니다. 이를 위해 forEach() 메소드에 전달된 콜백 함수는 value, key 순서로 인자를 받습니다.\n\nfunction publicRooms() {\n  // const sids = wsServer.sockets.adapter.sids;\n  // const rooms = wsServer.sockets.adapter.rooms;\n\n  var _wsServer$sockets$ada = wsServer.sockets.adapter,\n    sids = _wsServer$sockets$ada.sids,\n    rooms = _wsServer$sockets$ada.rooms;\n  var publicRooms = [];\n  // rooms.forEach((value, key) => {\n  rooms.forEach(function (value, key) {\n    console.log(key, value, sids.get(key));\n    if (sids.get(key) === undefined) {\n      publicRooms.push(key);\n    }\n  });\n  return publicRooms;\n}\nfunction countRoom(roomName) {\n  var _wsServer$sockets$ada2;\n  return (_wsServer$sockets$ada2 = wsServer.sockets.adapter.rooms.get(roomName)) === null || _wsServer$sockets$ada2 === void 0 ? void 0 : _wsServer$sockets$ada2.size;\n}\n\n// socket.onAny((event) => {...})\n// 이 메소드는 socket에서 발생하는 모든 이벤트를 감지합니다. 이벤트가 발생하면 해당 이벤트의 이름(event)이 콜백 함수의 매개변수로 전달됩니다. \n//     콜백 함수 내부에서는 wsServer.sockets.adaptor와 발생한 이벤트의 이름을 콘솔에 출력하고 있습니다.\n// wsServer.sockets.adaptor는 Socket.IO 서버의 어댑터를 참조하는데, 어댑터는 Socket.IO 서버가 클라이언트와의 연결을 관리하는 방식을 결정합니다. \n//     기본적으로는 in-memory 어댑터가 사용되며, 이는 모든 연결 정보를 메모리에 저장합니다.\n\n// socket.on(\"enter_room\", (roomName,done) => {...}); : 클라이언트로부터 'enter_room' 이벤트가 오면 이를 처리하는 부분입니다. \n// 클라이언트가 보낸 roomName을 출력하고, 5초 후에 done 콜백 함수를 실행합니다.\n// console.log(socket.id); : 연결된 클라이언트의 고유 ID를 콘솔에 출력합니다. 이 ID는 서버가 클라이언트를 식별하는 데 사용됩니다.\n// console.log(socket.rooms); : 클라이언트가 현재 속해 있는 방의 목록을 콘솔에 출력합니다. 초기에는 클라이언트가 속해 있는 방이 없으므로 빈 객체가 출력됩니다.\n// socket.join(roomName); : 클라이언트를 'roomName'이라는 이름의 방에 추가합니다. 이 방은 클라이언트가 메시지를 주고받을 수 있는 공간입니다.\n// console.log(socket.rooms); : 클라이언트가 현재 속해 있는 방의 목록을 다시 콘솔에 출력합니다. 이번에는 방에 추가된 후의 상태를 확인할 수 있습니다.\n\n// socket.on(\"disconnecting\", () => {...}); : 클라이언트의 웹소켓 연결이 끊어질 때 실행되는 이벤트 핸들러입니다. \n//     이 핸들러는 클라이언트가 모든 방에서 나가기 전에 실행됩니다. \n// 여기서 'socket.rooms'는 클라이언트가 현재 속해 있는 방의 목록을 가리킵니다. \n// 클라이언트가 속한 모든 방에 대해 'bye' 이벤트를 보냅니다. 이를 통해 다른 클라이언트들에게 해당 클라이언트가 방에서 나갔음을 알립니다.\n\n// socket.on(\"disconnecting\", () => {...}) : \"disconnecting\" 이벤트는 클라이언트가 서버에서 연결이 끊어지기 직전에 발생합니다. \n//     이 시점에는 클라이언트가 아직 종료되지 않았으며, 클라이언트의 상태 정보(예: 방 정보)는 여전히 유효합니다. \n//     따라서 이 코드에서는 클라이언트가 속해 있던 모든 방에 'bye' 이벤트를 보내어, 다른 클라이언트들에게 이 클라이언트가 연결을 종료하려고 하고 있다는 사실을 알립니다.\n\n// socket.on(\"disconnect\", () => {...}) : \"disconnect\" 이벤트는 클라이언트의 연결이 완전히 끊어진 후에 발생합니다. \n//     이 시점에서는 클라이언트의 상태 정보가 더 이상 유효하지 않습니다. 따라서 이 코드에서는 공개된 채팅방 목록이 변경될 수 있음을 감지하고, \n//     변경된 목록을 모든 클라이언트에게 'room_change' 이벤트로 보내어 각 클라이언트의 방 목록을 최신 상태로 유지하도록 합니다.\n\n// socket.on(\"new_message\", (msg, room, done) => {...}); : 클라이언트로부터 'new_message' 이벤트를 받았을 때 실행되는 이벤트 핸들러입니다. \n//     'msg'는 클라이언트가 보낸 메시지, 'room'은 메시지를 보낸 방의 이름, 'done'은 클라이언트가 전달한 콜백 함수입니다. \n// 이 핸들러는 클라이언트가 보낸 메시지를 해당 방의 다른 클라이언트들에게 전송하고, 처리가 끝났음을 클라이언트에 알립니다.\n// socket.to(room).emit(\"new_message\", ${socket.nickname} : ${msg});\n// 이 코드는 socket이 특정 방(room)에 있는 모든 클라이언트에게 \"new_message\" 이벤트를 보내는 역할을 합니다. \n//      이때, 보내는 메시지는 클라이언트의 별명과 클라이언트가 보낸 메시지를 합친 문자열입니다.\n// 그러나, 이 코드는 메시지를 보낸 클라이언트 자신을 제외한 클라이언트에게만 메시지를 보냅니다. \n\n// wsServer.in(room).emit(\"new_message\", ${socket.nickname} : ${msg});\n// 이 코드는 서버가 특정 방(room)에 있는 모든 클라이언트에게 \"new_message\" 이벤트를 보내는 역할을 합니다. \n//     이때, 보내는 메시지는 클라이언트의 별명과 클라이언트가 보낸 메시지를 합친 문자열입니다.\n// 이 코드를 사용하면 메시지를 보낸 클라이언트 자신도 이 이벤트를 받을 수 있습니다.\n\nwsServer.on(\"connection\", function (socket) {\n  // console.log(socket);\n  // socket.on(\"enter_room\", (roomName) => console.log(roomName));\n  socket[\"nickname\"] = \"익명\";\n  wsServer.sockets.emit(\"hello\", publicRooms());\n  socket.onAny(function (event) {\n    console.log(wsServer.sockets.adapter);\n    console.log(\"Socket Event : \".concat(event));\n  });\n  socket.on(\"enter_room\", function (roomName, done) {\n    done();\n    // setTimeout(() => {\n    //     done();\n    // }, 5000)\n    // console.log(roomName);\n    // console.log(socket.id);\n    // console.log(socket.rooms);\n    socket.join(roomName);\n    // console.log(socket.rooms);\n    socket.to(roomName).emit(\"welcome\", socket.nickname, countRoom(roomName)); // 사용자의 방에 입장할 때\n    wsServer.sockets.emit(\"room_change\", publicRooms()); // 사용자에게 room_change 이름으로 publicRooms(공용 룸) 배열을 전달\n  });\n\n  socket.on(\"disconnecting\", function () {\n    // 사용자가 탈퇴해서 모든 방이 나가질 때 // \"disconnecting\" 이벤트는 클라이언트가 서버에서 연결이 끊어지기 직전에 발생합니다.\n    // console.log(socket.rooms);\n    socket.rooms.forEach(function (room) {\n      return socket.to(room).emit(\"bye\", socket.nickname, countRoom(room) - 1);\n    });\n  });\n  socket.on(\"disconnect\", function () {\n    // \"disconnect\" 이벤트는 클라이언트의 연결이 완전히 끊어진 후에 발생합니다.\n    wsServer.sockets.emit(\"room_change\", publicRooms());\n  });\n  socket.on(\"new_message\", function (msg, room, done) {\n    // socket.to(room).emit(\"new_message\", msg);\n    socket.to(room).emit(\"new_message\", \"\".concat(socket.nickname, \" : \").concat(msg));\n    // wsServer.in(room).emit(\"new_message\", `${socket.nickname} : ${msg}`); // 해당 방의 모든 클라이언트에게 메시지 보내기\n    done();\n  });\n  socket.on(\"nickname\", function (nickname) {\n    return socket[\"nickname\"] = nickname;\n  });\n});\nvar handelListen = function handelListen() {\n  return console.log(\"listening on http://localhost:3000\");\n};\nhttpServer.listen(3000, handelListen);\n\n// 해당 방에서 나 뺴고 메세지 보내지는 이유?\n// key, value 위치 바뀌는 이유?\n// 바로 방이 안뜨는 이유?\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaHR0cCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3NvY2tldCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2FkbWluVWkiLCJfZXhwcmVzcyIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIm9iaiIsImFwcCIsImV4cHJlc3MiLCJfX2Rpcm5hbWUiLCJ1c2UiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJyZWRpcmVjdCIsImh0dHBTZXJ2ZXIiLCJodHRwIiwiY3JlYXRlU2VydmVyIiwid3NTZXJ2ZXIiLCJTZXJ2ZXIiLCJjb3JzIiwib3JpZ2luIiwiY3JlZGVudGlhbHMiLCJpbnN0cnVtZW50IiwiYXV0aCIsInB1YmxpY1Jvb21zIiwiX3dzU2VydmVyJHNvY2tldHMkYWRhIiwic29ja2V0cyIsImFkYXB0ZXIiLCJzaWRzIiwicm9vbXMiLCJmb3JFYWNoIiwidmFsdWUiLCJrZXkiLCJjb25zb2xlIiwibG9nIiwidW5kZWZpbmVkIiwicHVzaCIsImNvdW50Um9vbSIsInJvb21OYW1lIiwiX3dzU2VydmVyJHNvY2tldHMkYWRhMiIsInNpemUiLCJvbiIsInNvY2tldCIsImVtaXQiLCJvbkFueSIsImV2ZW50IiwiY29uY2F0IiwiZG9uZSIsImpvaW4iLCJ0byIsIm5pY2tuYW1lIiwicm9vbSIsIm1zZyIsImhhbmRlbExpc3RlbiIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiQzpcXE15U291cmNlXFxzb29tXFxzcmNcXCIsInNvdXJjZXMiOlsic2VydmVyMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgU29ja2V0SU8gZnJvbSBcInNvY2tldC5pb1wiIDogU29ja2V0LklPIOuqqOuTiOydhCDsnoTtj6ztirjtlanri4jri6QuIOydtCDrqqjrk4jsnYAg7Ju57IaM7LyTIO2GteyLoOydhCDqsIDriqXtlZjqsowg7ZW07KSN64uI64ukLlxyXG5cclxuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcclxuaW1wb3J0IFNvY2tldElPIGZyb20gXCJzb2NrZXQuaW9cIjtcclxuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSBcInNvY2tldC5pb1wiO1xyXG5pbXBvcnQgeyBpbnN0cnVtZW50IH0gZnJvbSBcIkBzb2NrZXQuaW8vYWRtaW4tdWlcIjtcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG5hcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJwdWdcIik7XHJcbmFwcC5zZXQoXCJ2aWV3c1wiLCBfX2Rpcm5hbWUgKyBcIi92aWV3c1wiKTtcclxuYXBwLnVzZShcIi9wdWJsaWNcIiwgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgXCIvcHVibGljXCIpKTtcclxuYXBwLmdldChcIi9cIiwgKHJlcSxyZXMpID0+IHJlcy5yZW5kZXIoXCJob21lXCIpKTtcclxuYXBwLmdldChcIi8qXCIsIChyZXEscmVzKSA9PiByZXMucmVkaXJlY3QoXCIvXCIpKTtcclxuXHJcbi8vIGNvbnN0IHdzU2VydmVyID0gU29ja2V0SU8oaHR0cFNlcnZlcik7IDog7IOd7ISx7ZWcIEhUVFAg7ISc67KEIOychOyXkCDsm7nshozsvJMg7ISc67KE66W8IOyDneyEse2VqeuLiOuLpC5cclxuLy8gd3NTZXJ2ZXIub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHsuLi59KTsgOiDsm7nshozsvJMg7ISc67KE7JeQIO2BtOudvOydtOyWuO2KuOqwgCDsl7DqsrDrkJjrqbQg67Cc7IOd7ZWY64qUICdjb25uZWN0aW9uJyDsnbTrsqTtirjsl5Ag64yA7ZWcIO2VuOuTpOufrOulvCDrk7HroZ3tlanri4jri6QuIFxyXG4vLyDsnbQg7ZW465Ok65+s64qUIO2BtOudvOydtOyWuO2KuOuhnOu2gO2EsOydmCDqsIEg7Jew6rKw7JeQIOuMgO2VtCDsi6TtlonrkKnri4jri6QuXHJcblxyXG5jb25zdCBodHRwU2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcclxuLy8gY29uc3Qgd3NTZXJ2ZXIgPSBTb2NrZXRJTyhodHRwU2VydmVyKTtcclxuY29uc3Qgd3NTZXJ2ZXIgPSBuZXcgU2VydmVyKGh0dHBTZXJ2ZXIsIHtcclxuICAgIGNvcnM6IHtcclxuICAgICAgICBvcmlnaW4gOiBbXCJodHRwczovL2FkbWluLnNvY2tldC5pb1wiXSxcclxuICAgICAgICBjcmVkZW50aWFsczogdHJ1ZVxyXG4gICAgfVxyXG59KTtcclxuXHJcbmluc3RydW1lbnQod3NTZXJ2ZXIsIHtcclxuICAgIGF1dGg6IGZhbHNlXHJcbn0pO1xyXG5cclxuICAgIC8vIOydtCDrtoDrtoTsnYAgRVM27J2YIOq1rOyhsCDrtoTtlbQg7ZWg64u5IOusuOuyleydhCDsgqzsmqntlZjsl6wgd3NTZXJ2ZXLsnZggc29ja2V0cy5hZGFwdGVyIOqwneyytOyXkOyEnCBzaWRz7JmAIHJvb21z66W8IOy2lOy2nO2VmOuKlCDsvZTrk5zsnoXri4jri6QuIFxyXG4gICAgLy8gc2lkc+uKlCDqsIEg7IaM7LyT7J20IOyWtOuWpCDrsKnsl5Ag65Ok7Ja06rCAIOyeiOuKlOyngOulvCDrgpjtg4DrgrTripQgTWFwIOqwneyytOydtOupsCwgcm9vbXPripQg6rCBIOuwqeyXkCDslrTrlqQg7IaM7LyT7J20IOuTpOyWtOqwgCDsnojripTsp4Drpbwg64KY7YOA64K064qUIE1hcCDqsJ3ssrTsnoXri4jri6QuXHJcblxyXG4gICAgLy8gcm9vbXMgTWFwIOqwneyytOydmCDqsIEg7JqU7IaM7JeQIOuMgO2VtCDrsJjrs7XsnYQg7IiY7ZaJ7ZWY66mwLCDqsIEg67Cp7JeQIOuMgO2VnCDsoJXrs7Trpbwg6rCA7KC47JmAIO2VtOuLuSDrsKnsnbQg6rO16rCc65CcIOyxhO2MheuwqeyduOyngOulvCDtjJDri6jtlanri4jri6QuIFxyXG4gICAgLy8g6rO16rCc65CcIOyxhO2MheuwqeydtOudvOuptCBwdWJsaWNSb29tcyDrsLDsl7Tsl5Ag7LaU6rCA7ZWp64uI64ukLiDsl6zquLDshJwg6rO16rCc65CcIOyxhO2MheuwqeydtOudvCDtlajsnYAsIOuwqSDsnbTrpoTsnbQg7IaM7LyTIElE7JmAIOydvOy5mO2VmOyngCDslYrripQg67Cp7J2EIOunkO2VqeuLiOuLpC4gXHJcbiAgICAvLyDshozsvJMgSUTsmYAg67CpIOydtOumhOydtCDsnbzsuZjtlZjripQg6rK97Jqw64qUIOyGjOy8k+ydtCDsg53shLHrkKAg65WMIOqwgSDshozsvJPsl5Ag64yA7ZW0IOyekOuPmeycvOuhnCDsg53shLHrkJjripQg6rCc7J2467Cp7J2EIOunkO2VqeuLiOuLpC5cclxuXHJcbiAgICAvLyBKYXZhU2NyaXB07J2YIE1hcCDqsJ3ssrTrpbwg7Iic7ZqM7ZWgIOuVjCwgZm9yRWFjaCgpIOuplOyGjOuTnOuKlCDqsIEg7JqU7IaM7JeQIOuMgO2VtCDsvZzrsLEg7ZWo7IiY66W8IO2YuOy2nO2VmOupsCwg7J20IOy9nOuwsSDtlajsiJjripQg7LKrIOuyiOynuCDsnbjsnpDroZwg7JqU7IaM7J2YIHZhbHVlLCDrkZAg67KI7Ke4IOyduOyekOuhnCDsmpTshozsnZgga2V566W8IOuwm+yKteuLiOuLpC5cclxuICAgIC8vICAgICBKYXZhU2NyaXB07J2YIE1hcC5mb3JFYWNoKCkg66mU7ISc65Oc7J2YIOyduOyekCDsiJzshJzripQgKHZhbHVlLCBrZXksIG1hcCnsnoXri4jri6QuIOydtCDrqZTshJzrk5zripQg6rCBIO2VreuqqeyXkCDrjIDtlbQg7KO87Ja07KeEIOy9nOuwsSDtlajsiJjrpbwg7Iuk7ZaJ7ZWY66mwLCDsnbQg7L2c67CxIO2VqOyImOuKlCDshLgg6rCc7J2YIOyduOyekOulvCDrsJvsirXri4jri6QuXHJcbiAgICAvLyAgICAg7KaJLCByb29tcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7Li4ufSnripQgcm9vbXMgTWFwIOqwneyytOydmCDqsIEg7JqU7IaM66W8IOyInO2ajO2VmOuptOyEnCB2YWx1ZeyZgCBrZXnrpbwg7LCo66GA64yA66GcIOqwgOyguOyYpOuKlCDqsoPsnoXri4jri6QuXHJcbiAgICAvLyAgICAg7Jes6riw7IScIHZhbHVl64qUIOqwgSDrsKnsl5Ag7J6I64qUIOyCrOyaqeyekOydmCDsp5HtlakoU2V0KeydhCDrgpjtg4DrgrTqs6AsIGtleeuKlCDrsKnsnZgg7J2066aE7J2EIOuCmO2DgOuDheuLiOuLpC5cclxuICAgIC8vICAgICDrlLDrnbzshJwgcm9vbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gey4uLn0p6rCAIOyYrOuwlOuluCDtkZztmITsnoXri4jri6QuIHJvb21zLmZvckVhY2goKGtleSwgdmFsdWUpID0+IHsuLi59KeuhnCDsnpHshLHtlZjqsowg65CY66m0LCBcclxuICAgIC8vICAgICBrZXnsmYAgdmFsdWXsnZgg7Iic7ISc6rCAIOuwlOuAjOyWtCDsm5DsuZgg7JWK64qUIOqysOqzvOulvCDqsIDsoLjsmKwg7IiYIOyeiOyKteuLiOuLpC5cclxuXHJcbiAgICAgICAgLy8g7J20IOqyveyasCwgdmFsdWXripQg6rCBIOuwqeyXkCDsnojripQg7IKs7Jqp7J6Q7J2YIOynke2VqShTZXQp7J2EIOuCmO2DgOuCtOqzoCwga2V564qUIOuwqSDsnbTrpoTsnYQg64KY7YOA64OF64uI64ukLlxyXG4gICAgICAgIC8vICAgICBzaWRzLmdldChrZXkpID09PSB1bmRlZmluZWTripQg7ZW064u5IOuwqeydtCDqs7XqsJwg67Cp7J247KeAIOyVhOuLjOyngOulvCDtjJDrs4TtlZjripQg7KGw6rG07J6F64uI64ukLiDrp4zslb0gc2lkcy5nZXQoa2V5KeqwgCB1bmRlZmluZWTrnbzrqbQsIFxyXG4gICAgICAgIC8vICAgICDqt7gg67Cp7J2AIOqzteqwnCDrsKkocHVibGljIHJvb20p7J20652864qUIOqyg+ydtOuvgOuhnCBwdWJsaWNSb29tcyDrsLDsl7Tsl5Ag7LaU6rCA7ZWp64uI64ukLlxyXG4gICAgICAgIC8vICAgICDrlLDrnbzshJwg7J20IO2VqOyImOuKlCDshJzrsoTsnZgg66qo65OgIOuwqeydhCDsiJztmoztlZjrqbTshJwg6rO16rCcIOuwqeunjOydhCDssL7slYTrgrTripQg7Jet7ZWg7J2EIO2VqeuLiOuLpC4g7J2066W8IOychO2VtCBmb3JFYWNoKCkg66mU7IaM65Oc7JeQIOyghOuLrOuQnCDsvZzrsLEg7ZWo7IiY64qUIHZhbHVlLCBrZXkg7Iic7ISc66GcIOyduOyekOulvCDrsJvsirXri4jri6QuXHJcbiAgICBcclxuZnVuY3Rpb24gcHVibGljUm9vbXMoKSB7XHJcbiAgICAvLyBjb25zdCBzaWRzID0gd3NTZXJ2ZXIuc29ja2V0cy5hZGFwdGVyLnNpZHM7XHJcbiAgICAvLyBjb25zdCByb29tcyA9IHdzU2VydmVyLnNvY2tldHMuYWRhcHRlci5yb29tcztcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgc29ja2V0czoge1xyXG4gICAgICAgICAgICBhZGFwdGVyOntzaWRzLCByb29tc30sXHJcbiAgICAgICAgfSxcclxuICAgIH0gPSB3c1NlcnZlcjtcclxuXHJcbiAgICBjb25zdCBwdWJsaWNSb29tcyA9IFtdXHJcbiAgICAvLyByb29tcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICByb29tcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coa2V5LCB2YWx1ZSwgc2lkcy5nZXQoa2V5KSlcclxuICAgICAgICBpZiAoc2lkcy5nZXQoa2V5KSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHB1YmxpY1Jvb21zLnB1c2goa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHB1YmxpY1Jvb21zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb3VudFJvb20ocm9vbU5hbWUpIHtcclxuICAgIHJldHVybiB3c1NlcnZlci5zb2NrZXRzLmFkYXB0ZXIucm9vbXMuZ2V0KHJvb21OYW1lKT8uc2l6ZTtcclxufVxyXG5cclxuICAgIC8vIHNvY2tldC5vbkFueSgoZXZlbnQpID0+IHsuLi59KVxyXG4gICAgLy8g7J20IOuplOyGjOuTnOuKlCBzb2NrZXTsl5DshJwg67Cc7IOd7ZWY64qUIOuqqOuToCDsnbTrsqTtirjrpbwg6rCQ7KeA7ZWp64uI64ukLiDsnbTrsqTtirjqsIAg67Cc7IOd7ZWY66m0IO2VtOuLuSDsnbTrsqTtirjsnZgg7J2066aEKGV2ZW50KeydtCDsvZzrsLEg7ZWo7IiY7J2YIOunpOqwnOuzgOyImOuhnCDsoITri6zrkKnri4jri6QuIFxyXG4gICAgLy8gICAgIOy9nOuwsSDtlajsiJgg64K067aA7JeQ7ISc64qUIHdzU2VydmVyLnNvY2tldHMuYWRhcHRvcuyZgCDrsJzsg53tlZwg7J2067Kk7Yq47J2YIOydtOumhOydhCDsvZjshpTsl5Ag7Lac66Cl7ZWY6rOgIOyeiOyKteuLiOuLpC5cclxuICAgIC8vIHdzU2VydmVyLnNvY2tldHMuYWRhcHRvcuuKlCBTb2NrZXQuSU8g7ISc67KE7J2YIOyWtOuMke2EsOulvCDssLjsobDtlZjripTrjbAsIOyWtOuMke2EsOuKlCBTb2NrZXQuSU8g7ISc67KE6rCAIO2BtOudvOydtOyWuO2KuOyZgOydmCDsl7DqsrDsnYQg6rSA66as7ZWY64qUIOuwqeyLneydhCDqsrDsoJXtlanri4jri6QuIFxyXG4gICAgLy8gICAgIOq4sOuzuOyggeycvOuhnOuKlCBpbi1tZW1vcnkg7Ja064yR7YSw6rCAIOyCrOyaqeuQmOupsCwg7J2064qUIOuqqOuToCDsl7DqsrAg7KCV67O066W8IOuplOuqqOumrOyXkCDsoIDsnqXtlanri4jri6QuXHJcblxyXG4gICAgLy8gc29ja2V0Lm9uKFwiZW50ZXJfcm9vbVwiLCAocm9vbU5hbWUsZG9uZSkgPT4gey4uLn0pOyA6IO2BtOudvOydtOyWuO2KuOuhnOu2gO2EsCAnZW50ZXJfcm9vbScg7J2067Kk7Yq46rCAIOyYpOuptCDsnbTrpbwg7LKY66as7ZWY64qUIOu2gOu2hOyeheuLiOuLpC4gXHJcbiAgICAvLyDtgbTrnbzsnbTslrjtirjqsIAg67O064K4IHJvb21OYW1l7J2EIOy2nOugpe2VmOqzoCwgNey0iCDtm4Tsl5AgZG9uZSDsvZzrsLEg7ZWo7IiY66W8IOyLpO2Wie2VqeuLiOuLpC5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzb2NrZXQuaWQpOyA6IOyXsOqysOuQnCDtgbTrnbzsnbTslrjtirjsnZgg6rOg7JygIElE66W8IOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuIOydtCBJROuKlCDshJzrsoTqsIAg7YG065287J207Ja47Yq466W8IOyLneuzhO2VmOuKlCDrjbAg7IKs7Jqp65Cp64uI64ukLlxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNvY2tldC5yb29tcyk7IDog7YG065287J207Ja47Yq46rCAIO2YhOyerCDsho3tlbQg7J6I64qUIOuwqeydmCDrqqnroZ3snYQg7L2Y7IaU7JeQIOy2nOugpe2VqeuLiOuLpC4g7LSI6riw7JeQ64qUIO2BtOudvOydtOyWuO2KuOqwgCDsho3tlbQg7J6I64qUIOuwqeydtCDsl4bsnLzrr4DroZwg67mIIOqwneyytOqwgCDstpzroKXrkKnri4jri6QuXHJcbiAgICAgICAgLy8gc29ja2V0LmpvaW4ocm9vbU5hbWUpOyA6IO2BtOudvOydtOyWuO2KuOulvCAncm9vbU5hbWUn7J20652864qUIOydtOumhOydmCDrsKnsl5Ag7LaU6rCA7ZWp64uI64ukLiDsnbQg67Cp7J2AIO2BtOudvOydtOyWuO2KuOqwgCDrqZTsi5zsp4Drpbwg7KO86rOg67Cb7J2EIOyImCDsnojripQg6rO16rCE7J6F64uI64ukLlxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNvY2tldC5yb29tcyk7IDog7YG065287J207Ja47Yq46rCAIO2YhOyerCDsho3tlbQg7J6I64qUIOuwqeydmCDrqqnroZ3snYQg64uk7IucIOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuIOydtOuyiOyXkOuKlCDrsKnsl5Ag7LaU6rCA65CcIO2bhOydmCDsg4Htg5zrpbwg7ZmV7J247ZWgIOyImCDsnojsirXri4jri6QuXHJcblxyXG4gICAgLy8gc29ja2V0Lm9uKFwiZGlzY29ubmVjdGluZ1wiLCAoKSA9PiB7Li4ufSk7IDog7YG065287J207Ja47Yq47J2YIOybueyGjOy8kyDsl7DqsrDsnbQg64GK7Ja07KeIIOuVjCDsi6TtlonrkJjripQg7J2067Kk7Yq4IO2VuOuTpOufrOyeheuLiOuLpC4gXHJcbiAgICAvLyAgICAg7J20IO2VuOuTpOufrOuKlCDtgbTrnbzsnbTslrjtirjqsIAg66qo65OgIOuwqeyXkOyEnCDrgpjqsIDquLAg7KCE7JeQIOyLpO2WieuQqeuLiOuLpC4gXHJcbiAgICAgICAgLy8g7Jes6riw7IScICdzb2NrZXQucm9vbXMn64qUIO2BtOudvOydtOyWuO2KuOqwgCDtmITsnqwg7IaN7ZW0IOyeiOuKlCDrsKnsnZgg66qp66Gd7J2EIOqwgOumrO2CteuLiOuLpC4gXHJcbiAgICAgICAgLy8g7YG065287J207Ja47Yq46rCAIOyGje2VnCDrqqjrk6Ag67Cp7JeQIOuMgO2VtCAnYnllJyDsnbTrsqTtirjrpbwg67O064OF64uI64ukLiDsnbTrpbwg7Ya17ZW0IOuLpOuluCDtgbTrnbzsnbTslrjtirjrk6Tsl5Dqsowg7ZW064u5IO2BtOudvOydtOyWuO2KuOqwgCDrsKnsl5DshJwg64KY6rCU7J2M7J2EIOyVjOumveuLiOuLpC5cclxuXHJcbiAgICAvLyBzb2NrZXQub24oXCJkaXNjb25uZWN0aW5nXCIsICgpID0+IHsuLi59KSA6IFwiZGlzY29ubmVjdGluZ1wiIOydtOuypO2KuOuKlCDtgbTrnbzsnbTslrjtirjqsIAg7ISc67KE7JeQ7IScIOyXsOqysOydtCDrgYrslrTsp4DquLAg7KeB7KCE7JeQIOuwnOyDne2VqeuLiOuLpC4gXHJcbiAgICAvLyAgICAg7J20IOyLnOygkOyXkOuKlCDtgbTrnbzsnbTslrjtirjqsIAg7JWE7KeBIOyiheujjOuQmOyngCDslYrslZjsnLzrqbAsIO2BtOudvOydtOyWuO2KuOydmCDsg4Htg5wg7KCV67O0KOyYiDog67CpIOygleuztCnripQg7Jes7KCE7Z6IIOycoO2aqO2VqeuLiOuLpC4gXHJcbiAgICAvLyAgICAg65Sw65287IScIOydtCDsvZTrk5zsl5DshJzripQg7YG065287J207Ja47Yq46rCAIOyGje2VtCDsnojrjZgg66qo65OgIOuwqeyXkCAnYnllJyDsnbTrsqTtirjrpbwg67O064K07Ja0LCDri6Trpbgg7YG065287J207Ja47Yq465Ok7JeQ6rKMIOydtCDtgbTrnbzsnbTslrjtirjqsIAg7Jew6rKw7J2EIOyiheujjO2VmOugpOqzoCDtlZjqs6Ag7J6I64uk64qUIOyCrOyLpOydhCDslYzrpr3ri4jri6QuXHJcblxyXG4gICAgLy8gc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7Li4ufSkgOiBcImRpc2Nvbm5lY3RcIiDsnbTrsqTtirjripQg7YG065287J207Ja47Yq47J2YIOyXsOqysOydtCDsmYTsoITtnogg64GK7Ja07KeEIO2bhOyXkCDrsJzsg53tlanri4jri6QuIFxyXG4gICAgLy8gICAgIOydtCDsi5zsoJDsl5DshJzripQg7YG065287J207Ja47Yq47J2YIOyDge2DnCDsoJXrs7TqsIAg642UIOydtOyDgSDsnKDtmqjtlZjsp4Ag7JWK7Iq164uI64ukLiDrlLDrnbzshJwg7J20IOy9lOuTnOyXkOyEnOuKlCDqs7XqsJzrkJwg7LGE7YyF67CpIOuqqeuhneydtCDrs4Dqsr3rkKAg7IiYIOyeiOydjOydhCDqsJDsp4DtlZjqs6AsIFxyXG4gICAgLy8gICAgIOuzgOqyveuQnCDrqqnroZ3snYQg66qo65OgIO2BtOudvOydtOyWuO2KuOyXkOqyjCAncm9vbV9jaGFuZ2UnIOydtOuypO2KuOuhnCDrs7TrgrTslrQg6rCBIO2BtOudvOydtOyWuO2KuOydmCDrsKkg66qp66Gd7J2EIOy1nOyLoCDsg4Htg5zroZwg7Jyg7KeA7ZWY64+E66GdIO2VqeuLiOuLpC5cclxuXHJcbiAgICAvLyBzb2NrZXQub24oXCJuZXdfbWVzc2FnZVwiLCAobXNnLCByb29tLCBkb25lKSA9PiB7Li4ufSk7IDog7YG065287J207Ja47Yq466Gc67aA7YSwICduZXdfbWVzc2FnZScg7J2067Kk7Yq466W8IOuwm+yVmOydhCDrlYwg7Iuk7ZaJ65CY64qUIOydtOuypO2KuCDtlbjrk6Trn6zsnoXri4jri6QuIFxyXG4gICAgLy8gICAgICdtc2cn64qUIO2BtOudvOydtOyWuO2KuOqwgCDrs7Trgrgg66mU7Iuc7KeALCAncm9vbSfsnYAg66mU7Iuc7KeA66W8IOuztOuCuCDrsKnsnZgg7J2066aELCAnZG9uZSfsnYAg7YG065287J207Ja47Yq46rCAIOyghOuLrO2VnCDsvZzrsLEg7ZWo7IiY7J6F64uI64ukLiBcclxuICAgIC8vIOydtCDtlbjrk6Trn6zripQg7YG065287J207Ja47Yq46rCAIOuztOuCuCDrqZTsi5zsp4Drpbwg7ZW064u5IOuwqeydmCDri6Trpbgg7YG065287J207Ja47Yq465Ok7JeQ6rKMIOyghOyGoe2VmOqzoCwg7LKY66as6rCAIOuBneuCrOydjOydhCDtgbTrnbzsnbTslrjtirjsl5Ag7JWM66a964uI64ukLlxyXG4gICAgICAgIC8vIHNvY2tldC50byhyb29tKS5lbWl0KFwibmV3X21lc3NhZ2VcIiwgJHtzb2NrZXQubmlja25hbWV9IDogJHttc2d9KTtcclxuICAgICAgICAvLyDsnbQg7L2U65Oc64qUIHNvY2tldOydtCDtirnsoJUg67CpKHJvb20p7JeQIOyeiOuKlCDrqqjrk6Ag7YG065287J207Ja47Yq47JeQ6rKMIFwibmV3X21lc3NhZ2VcIiDsnbTrsqTtirjrpbwg67O064K064qUIOyXre2VoOydhCDtlanri4jri6QuIFxyXG4gICAgICAgIC8vICAgICAg7J2065WMLCDrs7TrgrTripQg66mU7Iuc7KeA64qUIO2BtOudvOydtOyWuO2KuOydmCDrs4TrqoXqs7wg7YG065287J207Ja47Yq46rCAIOuztOuCuCDrqZTsi5zsp4Drpbwg7ZWp7LmcIOusuOyekOyXtOyeheuLiOuLpC5cclxuICAgICAgICAvLyDqt7jrn6zrgpgsIOydtCDsvZTrk5zripQg66mU7Iuc7KeA66W8IOuztOuCuCDtgbTrnbzsnbTslrjtirgg7J6Q7Iug7J2EIOygnOyZuO2VnCDtgbTrnbzsnbTslrjtirjsl5Dqsozrp4wg66mU7Iuc7KeA66W8IOuztOuDheuLiOuLpC4gXHJcblxyXG4gICAgICAgIC8vIHdzU2VydmVyLmluKHJvb20pLmVtaXQoXCJuZXdfbWVzc2FnZVwiLCAke3NvY2tldC5uaWNrbmFtZX0gOiAke21zZ30pO1xyXG4gICAgICAgIC8vIOydtCDsvZTrk5zripQg7ISc67KE6rCAIO2KueyglSDrsKkocm9vbSnsl5Ag7J6I64qUIOuqqOuToCDtgbTrnbzsnbTslrjtirjsl5DqsowgXCJuZXdfbWVzc2FnZVwiIOydtOuypO2KuOulvCDrs7TrgrTripQg7Jet7ZWg7J2EIO2VqeuLiOuLpC4gXHJcbiAgICAgICAgLy8gICAgIOydtOuVjCwg67O064K064qUIOuplOyLnOyngOuKlCDtgbTrnbzsnbTslrjtirjsnZgg67OE66qF6rO8IO2BtOudvOydtOyWuO2KuOqwgCDrs7Trgrgg66mU7Iuc7KeA66W8IO2Vqey5nCDrrLjsnpDsl7TsnoXri4jri6QuXHJcbiAgICAgICAgLy8g7J20IOy9lOuTnOulvCDsgqzsmqntlZjrqbQg66mU7Iuc7KeA66W8IOuztOuCuCDtgbTrnbzsnbTslrjtirgg7J6Q7Iug64+EIOydtCDsnbTrsqTtirjrpbwg67Cb7J2EIOyImCDsnojsirXri4jri6QuXHJcblxyXG53c1NlcnZlci5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coc29ja2V0KTtcclxuICAgIC8vIHNvY2tldC5vbihcImVudGVyX3Jvb21cIiwgKHJvb21OYW1lKSA9PiBjb25zb2xlLmxvZyhyb29tTmFtZSkpO1xyXG4gICAgc29ja2V0W1wibmlja25hbWVcIl0gPSBcIuydteuqhVwiO1xyXG5cclxuICAgIHdzU2VydmVyLnNvY2tldHMuZW1pdChcImhlbGxvXCIsIHB1YmxpY1Jvb21zKCkpO1xyXG5cclxuICAgIHNvY2tldC5vbkFueSgoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyh3c1NlcnZlci5zb2NrZXRzLmFkYXB0ZXIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBTb2NrZXQgRXZlbnQgOiAke2V2ZW50fWApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc29ja2V0Lm9uKFwiZW50ZXJfcm9vbVwiLCAocm9vbU5hbWUsZG9uZSkgPT4ge1xyXG4gICAgICAgIGRvbmUoKTtcclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyAgICAgZG9uZSgpO1xyXG4gICAgICAgIC8vIH0sIDUwMDApXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocm9vbU5hbWUpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNvY2tldC5pZCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coc29ja2V0LnJvb21zKTtcclxuICAgICAgICBzb2NrZXQuam9pbihyb29tTmFtZSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coc29ja2V0LnJvb21zKTtcclxuICAgICAgICBzb2NrZXQudG8ocm9vbU5hbWUpLmVtaXQoXCJ3ZWxjb21lXCIsIHNvY2tldC5uaWNrbmFtZSwgY291bnRSb29tKHJvb21OYW1lKSk7IC8vIOyCrOyaqeyekOydmCDrsKnsl5Ag7J6F7J6l7ZWgIOuVjFxyXG4gICAgICAgIHdzU2VydmVyLnNvY2tldHMuZW1pdChcInJvb21fY2hhbmdlXCIsIHB1YmxpY1Jvb21zKCkpOyAvLyDsgqzsmqnsnpDsl5Dqsowgcm9vbV9jaGFuZ2Ug7J2066aE7Jy866GcIHB1YmxpY1Jvb21zKOqzteyaqSDro7gpIOuwsOyXtOydhCDsoITri6xcclxuICAgIH0pO1xyXG5cclxuICAgIHNvY2tldC5vbihcImRpc2Nvbm5lY3RpbmdcIiwgKCkgPT4geyAvLyDsgqzsmqnsnpDqsIAg7YOI7Ye07ZW07IScIOuqqOuToCDrsKnsnbQg64KY6rCA7KeIIOuVjCAvLyBcImRpc2Nvbm5lY3RpbmdcIiDsnbTrsqTtirjripQg7YG065287J207Ja47Yq46rCAIOyEnOuyhOyXkOyEnCDsl7DqsrDsnbQg64GK7Ja07KeA6riwIOyngeyghOyXkCDrsJzsg53tlanri4jri6QuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coc29ja2V0LnJvb21zKTtcclxuICAgICAgICBzb2NrZXQucm9vbXMuZm9yRWFjaChyb29tID0+IHNvY2tldC50byhyb29tKS5lbWl0KFwiYnllXCIsIHNvY2tldC5uaWNrbmFtZSwgY291bnRSb29tKHJvb20pLTEpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4geyAvLyBcImRpc2Nvbm5lY3RcIiDsnbTrsqTtirjripQg7YG065287J207Ja47Yq47J2YIOyXsOqysOydtCDsmYTsoITtnogg64GK7Ja07KeEIO2bhOyXkCDrsJzsg53tlanri4jri6QuXHJcbiAgICAgICAgd3NTZXJ2ZXIuc29ja2V0cy5lbWl0KFwicm9vbV9jaGFuZ2VcIiwgcHVibGljUm9vbXMoKSk7XHJcbiAgICB9KVxyXG5cclxuICAgIHNvY2tldC5vbihcIm5ld19tZXNzYWdlXCIsIChtc2csIHJvb20sIGRvbmUpID0+IHtcclxuICAgICAgICAvLyBzb2NrZXQudG8ocm9vbSkuZW1pdChcIm5ld19tZXNzYWdlXCIsIG1zZyk7XHJcbiAgICAgICAgc29ja2V0LnRvKHJvb20pLmVtaXQoXCJuZXdfbWVzc2FnZVwiLCBgJHtzb2NrZXQubmlja25hbWV9IDogJHttc2d9YCk7XHJcbiAgICAgICAgLy8gd3NTZXJ2ZXIuaW4ocm9vbSkuZW1pdChcIm5ld19tZXNzYWdlXCIsIGAke3NvY2tldC5uaWNrbmFtZX0gOiAke21zZ31gKTsgLy8g7ZW064u5IOuwqeydmCDrqqjrk6Ag7YG065287J207Ja47Yq47JeQ6rKMIOuplOyLnOyngCDrs7TrgrTquLBcclxuICAgICAgICBkb25lKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzb2NrZXQub24oXCJuaWNrbmFtZVwiLCAobmlja25hbWUpID0+IChzb2NrZXRbXCJuaWNrbmFtZVwiXSA9IG5pY2tuYW1lKSk7XHJcbn0pO1xyXG5cclxuY29uc3QgaGFuZGVsTGlzdGVuID0gKCkgPT4gY29uc29sZS5sb2coXCJsaXN0ZW5pbmcgb24gaHR0cDovL2xvY2FsaG9zdDozMDAwXCIpO1xyXG5odHRwU2VydmVyLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pO1xyXG5cclxuLy8g7ZW064u5IOuwqeyXkOyEnCDrgpgg67q06rOgIOuplOyEuOyngCDrs7TrgrTsp4DripQg7J207JygP1xyXG4vLyBrZXksIHZhbHVlIOychOy5mCDrsJTrgIzripQg7J207JygP1xyXG4vLyDrsJTroZwg67Cp7J20IOyViOucqOuKlCDsnbTsnKA/Il0sIm1hcHBpbmdzIjoiOzs7QUFFQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFDLHVCQUFBLENBQUFGLE9BQUE7QUFFQSxJQUFBRyxRQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxRQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUsseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFKLHdCQUFBSSxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsZ0JBQUFLLE9BQUEsQ0FBQUwsQ0FBQSwwQkFBQUEsQ0FBQSxzQkFBQUEsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFH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","map":{"version":3,"names":["_http","_interopRequireDefault","require","_socket","_interopRequireWildcard","_adminUi","_express","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","app","express","__dirname","use","req","res","render","redirect","httpServer","http","createServer","wsServer","Server","cors","origin","credentials","instrument","auth","publicRooms","_wsServer$sockets$ada","sockets","adapter","sids","rooms","forEach","value","key","console","log","undefined","push","countRoom","roomName","_wsServer$sockets$ada2","size","on","socket","emit","onAny","event","concat","done","join","to","nickname","room","msg","handelListen","listen"],"sourceRoot":"C:\\MySource\\soom\\src\\","sources":["server1.js"],"sourcesContent":["// import SocketIO from \"socket.io\" : Socket.IO 모듈을 임포트합니다. 이 모듈은 웹소켓 통신을 가능하게 해줍니다.\r\n\r\nimport http from \"http\";\r\nimport SocketIO from \"socket.io\";\r\nimport { Server } from \"socket.io\";\r\nimport { instrument } from \"@socket.io/admin-ui\";\r\nimport express from 'express';\r\n\r\nconst app = express();\r\n\r\napp.set(\"view engine\", \"pug\");\r\napp.set(\"views\", __dirname + \"/views\");\r\napp.use(\"/public\", express.static(__dirname + \"/public\"));\r\napp.get(\"/\", (req,res) => res.render(\"home\"));\r\napp.get(\"/*\", (req,res) => res.redirect(\"/\"));\r\n\r\n// const wsServer = SocketIO(httpServer); : 생성한 HTTP 서버 위에 웹소켓 서버를 생성합니다.\r\n// wsServer.on(\"connection\", (socket) => {...}); : 웹소켓 서버에 클라이언트가 연결되면 발생하는 'connection' 이벤트에 대한 핸들러를 등록합니다. \r\n// 이 핸들러는 클라이언트로부터의 각 연결에 대해 실행됩니다.\r\n\r\nconst httpServer = http.createServer(app);\r\n// const wsServer = SocketIO(httpServer);\r\nconst wsServer = new Server(httpServer, {\r\n    cors: {\r\n        origin : [\"https://admin.socket.io\"],\r\n        credentials: true\r\n    }\r\n});\r\n\r\ninstrument(wsServer, {\r\n    auth: false\r\n});\r\n\r\n    // 이 부분은 ES6의 구조 분해 할당 문법을 사용하여 wsServer의 sockets.adapter 객체에서 sids와 rooms를 추출하는 코드입니다. \r\n    // sids는 각 소켓이 어떤 방에 들어가 있는지를 나타내는 Map 객체이며, rooms는 각 방에 어떤 소켓이 들어가 있는지를 나타내는 Map 객체입니다.\r\n\r\n    // rooms Map 객체의 각 요소에 대해 반복을 수행하며, 각 방에 대한 정보를 가져와 해당 방이 공개된 채팅방인지를 판단합니다. \r\n    // 공개된 채팅방이라면 publicRooms 배열에 추가합니다. 여기서 공개된 채팅방이라 함은, 방 이름이 소켓 ID와 일치하지 않는 방을 말합니다. \r\n    // 소켓 ID와 방 이름이 일치하는 경우는 소켓이 생성될 때 각 소켓에 대해 자동으로 생성되는 개인방을 말합니다.\r\n\r\n    // JavaScript의 Map 객체를 순회할 때, forEach() 메소드는 각 요소에 대해 콜백 함수를 호출하며, 이 콜백 함수는 첫 번째 인자로 요소의 value, 두 번째 인자로 요소의 key를 받습니다.\r\n    //     JavaScript의 Map.forEach() 메서드의 인자 순서는 (value, key, map)입니다. 이 메서드는 각 항목에 대해 주어진 콜백 함수를 실행하며, 이 콜백 함수는 세 개의 인자를 받습니다.\r\n    //     즉, rooms.forEach((value, key) => {...})는 rooms Map 객체의 각 요소를 순회하면서 value와 key를 차례대로 가져오는 것입니다.\r\n    //     여기서 value는 각 방에 있는 사용자의 집합(Set)을 나타내고, key는 방의 이름을 나타냅니다.\r\n    //     따라서 rooms.forEach((value, key) => {...})가 올바른 표현입니다. rooms.forEach((key, value) => {...})로 작성하게 되면, \r\n    //     key와 value의 순서가 바뀌어 원치 않는 결과를 가져올 수 있습니다.\r\n\r\n        // 이 경우, value는 각 방에 있는 사용자의 집합(Set)을 나타내고, key는 방 이름을 나타냅니다.\r\n        //     sids.get(key) === undefined는 해당 방이 공개 방인지 아닌지를 판별하는 조건입니다. 만약 sids.get(key)가 undefined라면, \r\n        //     그 방은 공개 방(public room)이라는 것이므로 publicRooms 배열에 추가합니다.\r\n        //     따라서 이 함수는 서버의 모든 방을 순회하면서 공개 방만을 찾아내는 역할을 합니다. 이를 위해 forEach() 메소드에 전달된 콜백 함수는 value, key 순서로 인자를 받습니다.\r\n    \r\nfunction publicRooms() {\r\n    // const sids = wsServer.sockets.adapter.sids;\r\n    // const rooms = wsServer.sockets.adapter.rooms;\r\n\r\n    const {\r\n        sockets: {\r\n            adapter:{sids, rooms},\r\n        },\r\n    } = wsServer;\r\n\r\n    const publicRooms = []\r\n    // rooms.forEach((value, key) => {\r\n    rooms.forEach((value, key) => {\r\n        console.log(key, value, sids.get(key))\r\n        if (sids.get(key) === undefined) {\r\n            publicRooms.push(key);\r\n        }\r\n    });\r\n    \r\n    return publicRooms;\r\n}\r\n\r\nfunction countRoom(roomName) {\r\n    return wsServer.sockets.adapter.rooms.get(roomName)?.size;\r\n}\r\n\r\n    // socket.onAny((event) => {...})\r\n    // 이 메소드는 socket에서 발생하는 모든 이벤트를 감지합니다. 이벤트가 발생하면 해당 이벤트의 이름(event)이 콜백 함수의 매개변수로 전달됩니다. \r\n    //     콜백 함수 내부에서는 wsServer.sockets.adaptor와 발생한 이벤트의 이름을 콘솔에 출력하고 있습니다.\r\n    // wsServer.sockets.adaptor는 Socket.IO 서버의 어댑터를 참조하는데, 어댑터는 Socket.IO 서버가 클라이언트와의 연결을 관리하는 방식을 결정합니다. \r\n    //     기본적으로는 in-memory 어댑터가 사용되며, 이는 모든 연결 정보를 메모리에 저장합니다.\r\n\r\n    // socket.on(\"enter_room\", (roomName,done) => {...}); : 클라이언트로부터 'enter_room' 이벤트가 오면 이를 처리하는 부분입니다. \r\n    // 클라이언트가 보낸 roomName을 출력하고, 5초 후에 done 콜백 함수를 실행합니다.\r\n        // console.log(socket.id); : 연결된 클라이언트의 고유 ID를 콘솔에 출력합니다. 이 ID는 서버가 클라이언트를 식별하는 데 사용됩니다.\r\n        // console.log(socket.rooms); : 클라이언트가 현재 속해 있는 방의 목록을 콘솔에 출력합니다. 초기에는 클라이언트가 속해 있는 방이 없으므로 빈 객체가 출력됩니다.\r\n        // socket.join(roomName); : 클라이언트를 'roomName'이라는 이름의 방에 추가합니다. 이 방은 클라이언트가 메시지를 주고받을 수 있는 공간입니다.\r\n        // console.log(socket.rooms); : 클라이언트가 현재 속해 있는 방의 목록을 다시 콘솔에 출력합니다. 이번에는 방에 추가된 후의 상태를 확인할 수 있습니다.\r\n\r\n    // socket.on(\"disconnecting\", () => {...}); : 클라이언트의 웹소켓 연결이 끊어질 때 실행되는 이벤트 핸들러입니다. \r\n    //     이 핸들러는 클라이언트가 모든 방에서 나가기 전에 실행됩니다. \r\n        // 여기서 'socket.rooms'는 클라이언트가 현재 속해 있는 방의 목록을 가리킵니다. \r\n        // 클라이언트가 속한 모든 방에 대해 'bye' 이벤트를 보냅니다. 이를 통해 다른 클라이언트들에게 해당 클라이언트가 방에서 나갔음을 알립니다.\r\n\r\n    // socket.on(\"disconnecting\", () => {...}) : \"disconnecting\" 이벤트는 클라이언트가 서버에서 연결이 끊어지기 직전에 발생합니다. \r\n    //     이 시점에는 클라이언트가 아직 종료되지 않았으며, 클라이언트의 상태 정보(예: 방 정보)는 여전히 유효합니다. \r\n    //     따라서 이 코드에서는 클라이언트가 속해 있던 모든 방에 'bye' 이벤트를 보내어, 다른 클라이언트들에게 이 클라이언트가 연결을 종료하려고 하고 있다는 사실을 알립니다.\r\n\r\n    // socket.on(\"disconnect\", () => {...}) : \"disconnect\" 이벤트는 클라이언트의 연결이 완전히 끊어진 후에 발생합니다. \r\n    //     이 시점에서는 클라이언트의 상태 정보가 더 이상 유효하지 않습니다. 따라서 이 코드에서는 공개된 채팅방 목록이 변경될 수 있음을 감지하고, \r\n    //     변경된 목록을 모든 클라이언트에게 'room_change' 이벤트로 보내어 각 클라이언트의 방 목록을 최신 상태로 유지하도록 합니다.\r\n\r\n    // socket.on(\"new_message\", (msg, room, done) => {...}); : 클라이언트로부터 'new_message' 이벤트를 받았을 때 실행되는 이벤트 핸들러입니다. \r\n    //     'msg'는 클라이언트가 보낸 메시지, 'room'은 메시지를 보낸 방의 이름, 'done'은 클라이언트가 전달한 콜백 함수입니다. \r\n    // 이 핸들러는 클라이언트가 보낸 메시지를 해당 방의 다른 클라이언트들에게 전송하고, 처리가 끝났음을 클라이언트에 알립니다.\r\n        // socket.to(room).emit(\"new_message\", ${socket.nickname} : ${msg});\r\n        // 이 코드는 socket이 특정 방(room)에 있는 모든 클라이언트에게 \"new_message\" 이벤트를 보내는 역할을 합니다. \r\n        //      이때, 보내는 메시지는 클라이언트의 별명과 클라이언트가 보낸 메시지를 합친 문자열입니다.\r\n        // 그러나, 이 코드는 메시지를 보낸 클라이언트 자신을 제외한 클라이언트에게만 메시지를 보냅니다. \r\n\r\n        // wsServer.in(room).emit(\"new_message\", ${socket.nickname} : ${msg});\r\n        // 이 코드는 서버가 특정 방(room)에 있는 모든 클라이언트에게 \"new_message\" 이벤트를 보내는 역할을 합니다. \r\n        //     이때, 보내는 메시지는 클라이언트의 별명과 클라이언트가 보낸 메시지를 합친 문자열입니다.\r\n        // 이 코드를 사용하면 메시지를 보낸 클라이언트 자신도 이 이벤트를 받을 수 있습니다.\r\n\r\nwsServer.on(\"connection\", (socket) => {\r\n    // console.log(socket);\r\n    // socket.on(\"enter_room\", (roomName) => console.log(roomName));\r\n    socket[\"nickname\"] = \"익명\";\r\n\r\n    wsServer.sockets.emit(\"hello\", publicRooms());\r\n\r\n    socket.onAny((event) => {\r\n        console.log(wsServer.sockets.adapter);\r\n        console.log(`Socket Event : ${event}`);\r\n    });\r\n\r\n    socket.on(\"enter_room\", (roomName,done) => {\r\n        done();\r\n        // setTimeout(() => {\r\n        //     done();\r\n        // }, 5000)\r\n        // console.log(roomName);\r\n        // console.log(socket.id);\r\n        // console.log(socket.rooms);\r\n        socket.join(roomName);\r\n        // console.log(socket.rooms);\r\n        socket.to(roomName).emit(\"welcome\", socket.nickname, countRoom(roomName)); // 사용자의 방에 입장할 때\r\n        wsServer.sockets.emit(\"room_change\", publicRooms()); // 사용자에게 room_change 이름으로 publicRooms(공용 룸) 배열을 전달\r\n    });\r\n\r\n    socket.on(\"disconnecting\", () => { // 사용자가 탈퇴해서 모든 방이 나가질 때 // \"disconnecting\" 이벤트는 클라이언트가 서버에서 연결이 끊어지기 직전에 발생합니다.\r\n        // console.log(socket.rooms);\r\n        socket.rooms.forEach(room => socket.to(room).emit(\"bye\", socket.nickname, countRoom(room)-1));\r\n    });\r\n\r\n    socket.on(\"disconnect\", () => { // \"disconnect\" 이벤트는 클라이언트의 연결이 완전히 끊어진 후에 발생합니다.\r\n        wsServer.sockets.emit(\"room_change\", publicRooms());\r\n    })\r\n\r\n    socket.on(\"new_message\", (msg, room, done) => {\r\n        // socket.to(room).emit(\"new_message\", msg);\r\n        socket.to(room).emit(\"new_message\", `${socket.nickname} : ${msg}`);\r\n        // wsServer.in(room).emit(\"new_message\", `${socket.nickname} : ${msg}`); // 해당 방의 모든 클라이언트에게 메시지 보내기\r\n        done();\r\n    });\r\n\r\n    socket.on(\"nickname\", (nickname) => (socket[\"nickname\"] = nickname));\r\n});\r\n\r\nconst handelListen = () => console.log(\"listening on http://localhost:3000\");\r\nhttpServer.listen(3000, handelListen);\r\n\r\n// 해당 방에서 나 뺴고 메세지 보내지는 이유?\r\n// key, value 위치 바뀌는 이유?\r\n// 바로 방이 안뜨는 이유?"],"mappings":"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"}},"mtime":1701244586053}}