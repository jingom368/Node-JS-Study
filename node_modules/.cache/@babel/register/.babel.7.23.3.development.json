{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\MySource\\\\soom\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\MySource\\\\soom\",\"filename\":\"C:\\\\MySource\\\\soom\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\MySource\\\\soom\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.3:development":{"value":{"code":"\"use strict\";\n\nvar _http = _interopRequireDefault(require(\"http\"));\nvar _ws = _interopRequireDefault(require(\"ws\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// import http from \"http\"; : Node.js의 내장 모듈인 http를 불러옵니다. 이 모듈은 HTTP 서버를 생성하는 데 사용됩니다.\n// import WebSocket from 'ws'; : WebSocket 프로토콜을 구현한 ws 모듈을 불러옵니다. WebSocket은 클라이언트와 서버 간에 실시간 양방향 통신을 가능하게 하는 프로토콜입니다.\n// import express from 'express'; : Express 모듈을 불러옵니다. Express는 Node.js를 위한 웹 애플리케이션 프레임워크입니다.\n\n// const app = express(); : Express 인스턴스를 생성하여 app 변수에 저장합니다.\nvar app = (0, _express[\"default\"])();\n\n// app.set(\"view engine\", \"pug\"); : Express 앱의 뷰 엔진을 Pug로 설정합니다. 뷰 엔진은 템플릿 파일을 렌더링하는 역할을 합니다.\n// app.set(\"views\", __dirname + \"/views\"); : Express 앱의 뷰(템플릿 파일)가 있는 디렉토리를 설정합니다. __dirname은 현재 파일의 경로를 나타내는 Node.js 전역 변수입니다.\n\n// app.use() : Express 미들웨어를 등록하는 메서드입니다. 미들웨어는 요청과 응답 사이에 위치하여 요청이 들어올 때마다 실행되는 함수입니다.\n//     \"/public\" : 이는 라우트의 경로를 지정합니다. 이 코드에서는 \"/public\" 경로로 들어오는 요청에 대해 미들웨어를 적용하겠다는 의미입니다.\n// express.static(__dirname+\"/public\") : express.static은 Express가 제공하는 빌트인 미들웨어로, 정적 파일을 제공하는 역할을 합니다. \n//     이 코드에서는 __dirname+\"/public\" 경로에 있는 정적 파일(이미지, CSS 파일, JavaScript 파일 등)을 \"/public\" 경로로 접근할 수 있도록 설정하고 있습니다\n\n// app.get(\"/\", (req,res) => res.render(\"home\")); : 루트 URL('/')에 GET 요청이 들어오면 home 템플릿을 렌더링하여 응답합니다. req는 요청 객체, res는 응답 객체를 나타냅니다.\n// app.get(\"/*\", (req,res) => res.redirect(\"/\")) : 루트 URL('/')를 제외한 모든 URL에 GET 요청이 들어오면 루트 URL('/')로 리다이렉트합니다.\n\napp.set(\"view engine\", \"pug\");\napp.set(\"views\", __dirname + \"/views\");\napp.use(\"/public\", _express[\"default\"][\"static\"](__dirname + \"/public\"));\napp.get(\"/\", function (req, res) {\n  return res.render(\"home\");\n});\napp.get(\"/*\", function (req, res) {\n  return res.redirect(\"/\");\n});\n\n// const handelListen = () => console.log(\"듣고 있어 http://localhost:3000\") : 서버가 3000번 포트에서 리스닝을 시작할 때 콘솔에 메시지를 출력하는 함수를 정의합니다.\n// app.listen(3000, handelListen); : Express 앱을 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\n\n// const server = http.createServer(app); : http 모듈의 createServer 메서드를 사용해 HTTP 서버를 생성하고, 이전에 정의한 Express 앱(app)을 서버에 연결합니다.\n// const wss = new  WebSocket.Server({server}); : ws 모듈의 Server 클래스를 사용해 WebSocket 서버를 생성하고, 이를 HTTP 서버에 연결합니다. \n// 이로써 HTTP와 WebSocket 요청을 동일한 포트에서 처리할 수 있게 됩니다.\n\nvar handelListen = function handelListen() {\n  return console.log(\"연결 중 http://localhost:3000\");\n};\n// app.listen(3000, handelListen);\nvar server = _http[\"default\"].createServer(app);\nvar wss = new _ws[\"default\"].Server({\n  server: server\n});\n\n// function handelConnection(socket) { console.log(socket); } : 클라이언트가 WebSocket 서버에 연결되었을 때 실행되는 콜백 함수를 정의합니다. \n//     이 함수는 연결된 클라이언트의 소켓 객체(socket)를 파라미터로 받아서 그 정보를 콘솔에 출력합니다. 이 socket 객체를 통해 연결된 클라이언트와 데이터를 주고받을 수 있습니다.\n\n// wss.on(\"connection\", handelConnection); : wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, 즉 클라이언트가 서버에 연결되었을 때 handelConnection 함수를 실행하도록 설정합니다.\n\n// 따라서 클라이언트가 이 WebSocket 서버에 연결을 시도하면, 서버는 이를 감지하고 handelConnection 함수를 실행하여 클라이언트 소켓의 정보를 콘솔에 출력합니다. \n//     이렇게 함으로써 서버는 어떤 클라이언트가 연결되었는지 확인할 수 있습니다.\n\n/* \r\n    function handelConnection(socket) {\r\n        console.log(socket);\r\n    } \r\n\r\n    wss.on(\"connection\", handelConnection);\r\n*/\n\n// wss.on(\"connection\", (socket) => {...}); : 이 부분은 wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, \n// 즉 클라이언트가 서버에 연결되었을 때 실행되는 콜백 함수를 설정하는 부분입니다. 연결된 클라이언트의 소켓 객체는 socket 파라미터로 전달됩니다.\n// \"console.log(\"socket\", socket)\"는 \"socket\"라는 문자열과 socket 객체를 별개로 출력합니다. 이 방식을 사용하면 socket 객체의 내용을 자세히 볼 수 있습니다.\n// \"console.log(\"socket\" + socket)\"는 \"socket\"라는 문자열과 socket 객체를 문자열 연결 연산자(+)를 사용하여 하나의 문자열로 만들어 출력합니다. \n//     이 경우, socket 객체가 문자열로 변환되어 출력되므로, [object Object]와 같이 출력될 수 있습니다.\n// 따라서, 객체의 내용을 자세히 보고 싶다면 \"console.log(\"socke\", socket)\" 방식을, 객체를 문자열과 함께 한 줄로 출력하고 싶다면 \"console.log(\"socke\" + socket)\" 방식을 사용하면 됩니다.\n// sockets.push(socket): 새로 연결된 웹소켓을 sockets 배열에 추가합니다.\n// console.log(\"브라우저와 연결되었습니다.\"); : 클라이언트와 연결이 성공하면 콘솔에 \"브라우저와 연결되었습니다.\"라는 메시지를 출력합니다.\n// socket.on(\"close\", () => console.log(\"서버 > 서버와 연결이 끊겼습니다.\")); : 클라이언트와의 연결이 닫혔을 때 실행되는 콜백 함수를 설정합니다. \n//     이 경우 연결이 닫히면 콘솔에 \"서버 > 서버와 연결이 끊겼습니다.\"라는 메시지를 출력합니다.\n// socket.on(\"message\", (message) => {...}) : 클라이언트로부터 메시지를 받았을 때 실행되는 콜백 함수를 설정합니다. 이 경우 메시지를 받으면 받은 메시지를 콘솔에 출력합니다.\n// const message = JSON.parse(msg): 클라이언트에서 보낸 메시지를 JSON형식으로 파싱합니다.\n// console.log([서버] : ${message});: 이 코드는 서버 측에서 실행되며, 서버의 콘솔에 \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 출력합니다. \n// 이는 주로 개발자가 서버에서 클라이언트로부터 어떤 메시지를 받았는지 확인하기 위해 사용됩니다.\n// socket.send([서버] : ${message});: 이 코드는 서버가 클라이언트로 메시지를 보내는 코드입니다. \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 그대로 클라이언트에게 보냅니다. \n// 이는 웹소켓을 통해 실시간으로 서버와 클라이언트 간의 데이터를 주고받는 데 사용됩니다.\n// sockets.forEach(aSocket => aSocket.send(${message})): sockets 배열에 있는 모든 웹소켓에 메시지를 보냅니다. 이를 통해 서버는 받은 메시지를 모든 클라이언트에게 브로드캐스팅합니다.\n\n// switch(message.type) {...} : message.type의 값에 따라 다른 코드 블록이 실행됩니다. message는 클라이언트에서 서버로 보낸 메시지를 JSON 형태로 파싱한 객체입니다.\n// case \"new_message\": : 메시지의 타입이 \"new_message\"인 경우 다음 코드를 실행합니다.\n// sockets.forEach(aSocket => aSocket.send(${socket.nickname}:${message.payload})); : 현재 연결된 모든 소켓에 메시지를 전송합니다. \n// 메시지는 보낸 사람의 닉네임과 메시지 내용을 합쳐서 전송됩니다. 여기서 socket.nickname은 메시지를 보낸 사람의 닉네임이고, message.payload는 메시지 내용입니다.\n// case \"nickname\": : 메시지의 타입이 \"nickname\"인 경우 다음 코드를 실행합니다.\n// socket[\"nickname\"] = message.payload; : 메시지를 보낸 사람의 닉네임을 message.payload로 변경합니다.\n// break; : switch 문을 빠져나옵니다. 이 키워드가 없으면, 해당 case 블록 이후의 코드도 실행됩니다.\n// 즉, 클라이언트에서 메시지 타입이 \"new_message\"로 보내면, 해당 메시지를 서버에 연결된 모든 클라이언트에게 전송하고, \n// 메시지 타입이 \"nickname\"인 경우, 메시지를 보낸 사람의 닉네임을 변경하는 작업을 수행합니다.\n\n// socket.send(\"안녕?\"); : 클라이언트와 연결이 성공하면 클라이언트에게 \"안녕?\" 메시지를 보냅니다. \n\n// server.listen(3000, handelListen); : HTTP 서버를 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\n\nvar sockets = [];\nwss.on(\"connection\", function (socket) {\n  console.log(\"socket\", socket);\n  console.log(\"socket\" + socket);\n  sockets.push(socket);\n  socket[\"nickname\"] = \"익명\";\n  console.log(\"브라우저와 연결되었습니다.\");\n  socket.on(\"close\", function () {\n    return console.log(\"서버 > 서버와 연결이 끊겼습니다.\");\n  });\n  socket.on(\"message\", function (msg) {\n    var message = JSON.parse(msg);\n    console.log(message.type, message.payload); // 클라이언트에서 받은 JSON 타입의 key값을 받아서 value를 반환\n    // console.log(`[서버] : ${message}`); // 클라이언트에서 받은 메세지\n    // socket.send(`[서버] : ${message}`); // 클라이언트에서 받은 메세지를 클라이언트로 보내는 메시지\n    // sockets.forEach(aSocket => aSocket.send(`${message}`)); // 클라이언트에서 받은 메세지를 소켓에 연결된 모든 클라이언트로 보내는 메세지\n\n    switch (message.type) {\n      case \"new_message\":\n        // sockets.forEach(aSocket => aSocket.send(`${message.payload}`));\n        sockets.forEach(function (aSocket) {\n          return aSocket.send(\"\".concat(socket.nickname, \":\").concat(message.payload));\n        });\n        break;\n      case \"nickname\":\n        socket[\"nickname\"] = message.payload;\n        break;\n    }\n  });\n  // socket.send(\"안녕?\"); // 클라이언트로 보내는 메세지\n});\n\nserver.listen(3000, handelListen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaHR0cCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3dzIiwiX2V4cHJlc3MiLCJvYmoiLCJfX2VzTW9kdWxlIiwiYXBwIiwiZXhwcmVzcyIsInNldCIsIl9fZGlybmFtZSIsInVzZSIsImdldCIsInJlcSIsInJlcyIsInJlbmRlciIsInJlZGlyZWN0IiwiaGFuZGVsTGlzdGVuIiwiY29uc29sZSIsImxvZyIsInNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJ3c3MiLCJXZWJTb2NrZXQiLCJTZXJ2ZXIiLCJzb2NrZXRzIiwib24iLCJzb2NrZXQiLCJwdXNoIiwibXNnIiwibWVzc2FnZSIsIkpTT04iLCJwYXJzZSIsInR5cGUiLCJwYXlsb2FkIiwiZm9yRWFjaCIsImFTb2NrZXQiLCJzZW5kIiwiY29uY2F0Iiwibmlja25hbWUiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxNeVNvdXJjZVxcc29vbVxcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgaHR0cCBmcm9tIFwiaHR0cFwiOyA6IE5vZGUuanPsnZgg64K07J6lIOuqqOuTiOyduCBodHRw66W8IOu2iOufrOyYteuLiOuLpC4g7J20IOuqqOuTiOydgCBIVFRQIOyEnOuyhOulvCDsg53shLHtlZjripQg642wIOyCrOyaqeuQqeuLiOuLpC5cclxuLy8gaW1wb3J0IFdlYlNvY2tldCBmcm9tICd3cyc7IDogV2ViU29ja2V0IO2UhOuhnO2GoOy9nOydhCDqtaztmITtlZwgd3Mg66qo65OI7J2EIOu2iOufrOyYteuLiOuLpC4gV2ViU29ja2V07J2AIO2BtOudvOydtOyWuO2KuOyZgCDshJzrsoQg6rCE7JeQIOyLpOyLnOqwhCDslpHrsKntlqUg7Ya17Iug7J2EIOqwgOuKpe2VmOqyjCDtlZjripQg7ZSE66Gc7Yag7L2c7J6F64uI64ukLlxyXG4vLyBpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJzsgOiBFeHByZXNzIOuqqOuTiOydhCDrtojrn6zsmLXri4jri6QuIEV4cHJlc3PripQgTm9kZS5qc+ulvCDsnITtlZwg7Ju5IOyVoO2UjOumrOy8gOydtOyFmCDtlITroIjsnoTsm4ztgazsnoXri4jri6QuXHJcbmltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XHJcbmltcG9ydCBXZWJTb2NrZXQgZnJvbSAnd3MnO1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuXHJcbi8vIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTsgOiBFeHByZXNzIOyduOyKpO2EtOyKpOulvCDsg53shLHtlZjsl6wgYXBwIOuzgOyImOyXkCDsoIDsnqXtlanri4jri6QuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcblxyXG4vLyBhcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJwdWdcIik7IDogRXhwcmVzcyDslbHsnZgg67ewIOyXlOynhOydhCBQdWfroZwg7ISk7KCV7ZWp64uI64ukLiDrt7Ag7JeU7KeE7J2AIO2FnO2UjOumvyDtjIzsnbzsnYQg66CM642U66eB7ZWY64qUIOyXre2VoOydhCDtlanri4jri6QuXHJcbi8vIGFwcC5zZXQoXCJ2aWV3c1wiLCBfX2Rpcm5hbWUgKyBcIi92aWV3c1wiKTsgOiBFeHByZXNzIOyVseydmCDrt7Ao7YWc7ZSM66a/IO2MjOydvCnqsIAg7J6I64qUIOuUlOugie2GoOumrOulvCDshKTsoJXtlanri4jri6QuIF9fZGlybmFtZeydgCDtmITsnqwg7YyM7J287J2YIOqyveuhnOulvCDrgpjtg4DrgrTripQgTm9kZS5qcyDsoITsl60g67OA7IiY7J6F64uI64ukLlxyXG5cclxuLy8gYXBwLnVzZSgpIDogRXhwcmVzcyDrr7jrk6Tsm6jslrTrpbwg65Ox66Gd7ZWY64qUIOuplOyEnOuTnOyeheuLiOuLpC4g66+465Ok7Juo7Ja064qUIOyalOyyreqzvCDsnZHri7Ug7IKs7J207JeQIOychOy5mO2VmOyXrCDsmpTssq3snbQg65Ok7Ja07JisIOuVjOuniOuLpCDsi6TtlonrkJjripQg7ZWo7IiY7J6F64uI64ukLlxyXG4vLyAgICAgXCIvcHVibGljXCIgOiDsnbTripQg65287Jqw7Yq47J2YIOqyveuhnOulvCDsp4DsoJXtlanri4jri6QuIOydtCDsvZTrk5zsl5DshJzripQgXCIvcHVibGljXCIg6rK966Gc66GcIOuTpOyWtOyYpOuKlCDsmpTssq3sl5Ag64yA7ZW0IOuvuOuTpOybqOyWtOulvCDsoIHsmqntlZjqsqDri6TripQg7J2Y66+47J6F64uI64ukLlxyXG4vLyBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUrXCIvcHVibGljXCIpIDogZXhwcmVzcy5zdGF0aWPsnYAgRXhwcmVzc+qwgCDsoJzqs7XtlZjripQg67mM7Yq47J24IOuvuOuTpOybqOyWtOuhnCwg7KCV7KCBIO2MjOydvOydhCDsoJzqs7XtlZjripQg7Jet7ZWg7J2EIO2VqeuLiOuLpC4gXHJcbi8vICAgICDsnbQg7L2U65Oc7JeQ7ISc64qUIF9fZGlybmFtZStcIi9wdWJsaWNcIiDqsr3roZzsl5Ag7J6I64qUIOygleyggSDtjIzsnbwo7J2066+47KeALCBDU1Mg7YyM7J28LCBKYXZhU2NyaXB0IO2MjOydvCDrk7Ep7J2EIFwiL3B1YmxpY1wiIOqyveuhnOuhnCDsoJHqt7ztlaAg7IiYIOyeiOuPhOuhnSDshKTsoJXtlZjqs6Ag7J6I7Iq164uI64ukXHJcblxyXG4vLyBhcHAuZ2V0KFwiL1wiLCAocmVxLHJlcykgPT4gcmVzLnJlbmRlcihcImhvbWVcIikpOyA6IOujqO2KuCBVUkwoJy8nKeyXkCBHRVQg7JqU7LKt7J20IOuTpOyWtOyYpOuptCBob21lIO2FnO2UjOumv+ydhCDroIzrjZTrp4HtlZjsl6wg7J2R64u17ZWp64uI64ukLiByZXHripQg7JqU7LKtIOqwneyytCwgcmVz64qUIOydkeuLtSDqsJ3ssrTrpbwg64KY7YOA64OF64uI64ukLlxyXG4vLyBhcHAuZ2V0KFwiLypcIiwgKHJlcSxyZXMpID0+IHJlcy5yZWRpcmVjdChcIi9cIikpIDog66Oo7Yq4IFVSTCgnLycp66W8IOygnOyZuO2VnCDrqqjrk6AgVVJM7JeQIEdFVCDsmpTssq3snbQg65Ok7Ja07Jik66m0IOujqO2KuCBVUkwoJy8nKeuhnCDrpqzri6TsnbTroIntirjtlanri4jri6QuXHJcblxyXG5hcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJwdWdcIik7XHJcbmFwcC5zZXQoXCJ2aWV3c1wiLCBfX2Rpcm5hbWUgKyBcIi92aWV3c1wiKTtcclxuXHJcbmFwcC51c2UoXCIvcHVibGljXCIsIGV4cHJlc3Muc3RhdGljKF9fZGlybmFtZSArIFwiL3B1YmxpY1wiKSk7XHJcblxyXG5hcHAuZ2V0KFwiL1wiLCAocmVxLHJlcykgPT4gcmVzLnJlbmRlcihcImhvbWVcIikpO1xyXG5hcHAuZ2V0KFwiLypcIiwgKHJlcSxyZXMpID0+IHJlcy5yZWRpcmVjdChcIi9cIikpO1xyXG5cclxuXHJcbi8vIGNvbnN0IGhhbmRlbExpc3RlbiA9ICgpID0+IGNvbnNvbGUubG9nKFwi65Oj6rOgIOyeiOyWtCBodHRwOi8vbG9jYWxob3N0OjMwMDBcIikgOiDshJzrsoTqsIAgMzAwMOuyiCDtj6ztirjsl5DshJwg66as7Iqk64ud7J2EIOyLnOyeke2VoCDrlYwg7L2Y7IaU7JeQIOuplOyLnOyngOulvCDstpzroKXtlZjripQg7ZWo7IiY66W8IOygleydmO2VqeuLiOuLpC5cclxuLy8gYXBwLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pOyA6IEV4cHJlc3Mg7JWx7J2EIDMwMDDrsogg7Y+s7Yq47JeQ7IScIOyLnOyeke2VmOqzoCwg66as7Iqk64ud7J2EIOyLnOyeke2VmOuptCBoYW5kZWxMaXN0ZW4g7ZWo7IiY66W8IO2YuOy2nO2VqeuLiOuLpC5cclxuXHJcbi8vIGNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7IDogaHR0cCDrqqjrk4jsnZggY3JlYXRlU2VydmVyIOuplOyEnOuTnOulvCDsgqzsmqntlbQgSFRUUCDshJzrsoTrpbwg7IOd7ISx7ZWY6rOgLCDsnbTsoITsl5Ag7KCV7J2Y7ZWcIEV4cHJlc3Mg7JWxKGFwcCnsnYQg7ISc67KE7JeQIOyXsOqysO2VqeuLiOuLpC5cclxuLy8gY29uc3Qgd3NzID0gbmV3ICBXZWJTb2NrZXQuU2VydmVyKHtzZXJ2ZXJ9KTsgOiB3cyDrqqjrk4jsnZggU2VydmVyIO2BtOuemOyKpOulvCDsgqzsmqntlbQgV2ViU29ja2V0IOyEnOuyhOulvCDsg53shLHtlZjqs6AsIOydtOulvCBIVFRQIOyEnOuyhOyXkCDsl7DqsrDtlanri4jri6QuIFxyXG4vLyDsnbTroZzsjaggSFRUUOyZgCBXZWJTb2NrZXQg7JqU7LKt7J2EIOuPmeydvO2VnCDtj6ztirjsl5DshJwg7LKY66as7ZWgIOyImCDsnojqsowg65Cp64uI64ukLlxyXG5cclxuY29uc3QgaGFuZGVsTGlzdGVuID0gKCkgPT4gY29uc29sZS5sb2coXCLsl7DqsrAg7KSRIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiKTtcclxuLy8gYXBwLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pO1xyXG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xyXG5jb25zdCB3c3MgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7c2VydmVyfSk7XHJcblxyXG5cclxuLy8gZnVuY3Rpb24gaGFuZGVsQ29ubmVjdGlvbihzb2NrZXQpIHsgY29uc29sZS5sb2coc29ja2V0KTsgfSA6IO2BtOudvOydtOyWuO2KuOqwgCBXZWJTb2NrZXQg7ISc67KE7JeQIOyXsOqysOuQmOyXiOydhCDrlYwg7Iuk7ZaJ65CY64qUIOy9nOuwsSDtlajsiJjrpbwg7KCV7J2Y7ZWp64uI64ukLiBcclxuLy8gICAgIOydtCDtlajsiJjripQg7Jew6rKw65CcIO2BtOudvOydtOyWuO2KuOydmCDshozsvJMg6rCd7LK0KHNvY2tldCnrpbwg7YyM652866+47YSw66GcIOuwm+yVhOyEnCDqt7gg7KCV67O066W8IOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuIOydtCBzb2NrZXQg6rCd7LK066W8IO2Gte2VtCDsl7DqsrDrkJwg7YG065287J207Ja47Yq47JmAIOuNsOydtO2EsOulvCDso7zqs6DrsJvsnYQg7IiYIOyeiOyKteuLiOuLpC5cclxuXHJcbi8vIHdzcy5vbihcImNvbm5lY3Rpb25cIiwgaGFuZGVsQ29ubmVjdGlvbik7IDogd3NzIFdlYlNvY2tldCDshJzrsoTsl5DshJwgXCJjb25uZWN0aW9uXCIg7J2067Kk7Yq46rCAIOuwnOyDne2WiOydhCDrlYwsIOymiSDtgbTrnbzsnbTslrjtirjqsIAg7ISc67KE7JeQIOyXsOqysOuQmOyXiOydhCDrlYwgaGFuZGVsQ29ubmVjdGlvbiDtlajsiJjrpbwg7Iuk7ZaJ7ZWY64+E66GdIOyEpOygle2VqeuLiOuLpC5cclxuXHJcbi8vIOuUsOudvOyEnCDtgbTrnbzsnbTslrjtirjqsIAg7J20IFdlYlNvY2tldCDshJzrsoTsl5Ag7Jew6rKw7J2EIOyLnOuPhO2VmOuptCwg7ISc67KE64qUIOydtOulvCDqsJDsp4DtlZjqs6AgaGFuZGVsQ29ubmVjdGlvbiDtlajsiJjrpbwg7Iuk7ZaJ7ZWY7JesIO2BtOudvOydtOyWuO2KuCDshozsvJPsnZgg7KCV67O066W8IOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuIFxyXG4vLyAgICAg7J2066CH6rKMIO2VqOycvOuhnOyNqCDshJzrsoTripQg7Ja065akIO2BtOudvOydtOyWuO2KuOqwgCDsl7DqsrDrkJjsl4jripTsp4Ag7ZmV7J247ZWgIOyImCDsnojsirXri4jri6QuXHJcblxyXG4vKiBcclxuICAgIGZ1bmN0aW9uIGhhbmRlbENvbm5lY3Rpb24oc29ja2V0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coc29ja2V0KTtcclxuICAgIH0gXHJcblxyXG4gICAgd3NzLm9uKFwiY29ubmVjdGlvblwiLCBoYW5kZWxDb25uZWN0aW9uKTtcclxuKi9cclxuXHJcblxyXG4vLyB3c3Mub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHsuLi59KTsgOiDsnbQg67aA67aE7J2AIHdzcyBXZWJTb2NrZXQg7ISc67KE7JeQ7IScIFwiY29ubmVjdGlvblwiIOydtOuypO2KuOqwgCDrsJzsg53tlojsnYQg65WMLCBcclxuLy8g7KaJIO2BtOudvOydtOyWuO2KuOqwgCDshJzrsoTsl5Ag7Jew6rKw65CY7JeI7J2EIOuVjCDsi6TtlonrkJjripQg7L2c67CxIO2VqOyImOulvCDshKTsoJXtlZjripQg67aA67aE7J6F64uI64ukLiDsl7DqsrDrkJwg7YG065287J207Ja47Yq47J2YIOyGjOy8kyDqsJ3ssrTripQgc29ja2V0IO2MjOudvOuvuO2EsOuhnCDsoITri6zrkKnri4jri6QuXHJcbiAgICAvLyBcImNvbnNvbGUubG9nKFwic29ja2V0XCIsIHNvY2tldClcIuuKlCBcInNvY2tldFwi652864qUIOusuOyekOyXtOqzvCBzb2NrZXQg6rCd7LK066W8IOuzhOqwnOuhnCDstpzroKXtlanri4jri6QuIOydtCDrsKnsi53snYQg7IKs7Jqp7ZWY66m0IHNvY2tldCDqsJ3ssrTsnZgg64K07Jqp7J2EIOyekOyEuO2eiCDrs7wg7IiYIOyeiOyKteuLiOuLpC5cclxuICAgIC8vIFwiY29uc29sZS5sb2coXCJzb2NrZXRcIiArIHNvY2tldClcIuuKlCBcInNvY2tldFwi652864qUIOusuOyekOyXtOqzvCBzb2NrZXQg6rCd7LK066W8IOusuOyekOyXtCDsl7DqsrAg7Jew7IKw7J6QKCsp66W8IOyCrOyaqe2VmOyXrCDtlZjrgpjsnZgg66y47J6Q7Je066GcIOunjOuTpOyWtCDstpzroKXtlanri4jri6QuIFxyXG4gICAgLy8gICAgIOydtCDqsr3smrAsIHNvY2tldCDqsJ3ssrTqsIAg66y47J6Q7Je066GcIOuzgO2ZmOuQmOyWtCDstpzroKXrkJjrr4DroZwsIFtvYmplY3QgT2JqZWN0XeyZgCDqsJnsnbQg7Lac66Cl65CgIOyImCDsnojsirXri4jri6QuXHJcbiAgICAvLyDrlLDrnbzshJwsIOqwneyytOydmCDrgrTsmqnsnYQg7J6Q7IS47Z6IIOuztOqzoCDsi7bri6TrqbQgXCJjb25zb2xlLmxvZyhcInNvY2tlXCIsIHNvY2tldClcIiDrsKnsi53snYQsIOqwneyytOulvCDrrLjsnpDsl7Tqs7wg7ZWo6ruYIO2VnCDspITroZwg7Lac66Cl7ZWY6rOgIOyLtuuLpOuptCBcImNvbnNvbGUubG9nKFwic29ja2VcIiArIHNvY2tldClcIiDrsKnsi53snYQg7IKs7Jqp7ZWY66m0IOuQqeuLiOuLpC5cclxuICAgIC8vIHNvY2tldHMucHVzaChzb2NrZXQpOiDsg4jroZwg7Jew6rKw65CcIOybueyGjOy8k+ydhCBzb2NrZXRzIOuwsOyXtOyXkCDstpTqsIDtlanri4jri6QuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIuu4jOudvOyasOyggOyZgCDsl7DqsrDrkJjsl4jsirXri4jri6QuXCIpOyA6IO2BtOudvOydtOyWuO2KuOyZgCDsl7DqsrDsnbQg7ISx6rO17ZWY66m0IOy9mOyGlOyXkCBcIuu4jOudvOyasOyggOyZgCDsl7DqsrDrkJjsl4jsirXri4jri6QuXCLrnbzripQg66mU7Iuc7KeA66W8IOy2nOugpe2VqeuLiOuLpC5cclxuICAgIC8vIHNvY2tldC5vbihcImNsb3NlXCIsICgpID0+IGNvbnNvbGUubG9nKFwi7ISc67KEID4g7ISc67KE7JmAIOyXsOqysOydtCDrgYrqsrzsirXri4jri6QuXCIpKTsgOiDtgbTrnbzsnbTslrjtirjsmYDsnZgg7Jew6rKw7J20IOuLq+2YlOydhCDrlYwg7Iuk7ZaJ65CY64qUIOy9nOuwsSDtlajsiJjrpbwg7ISk7KCV7ZWp64uI64ukLiBcclxuICAgIC8vICAgICDsnbQg6rK97JqwIOyXsOqysOydtCDri6vtnojrqbQg7L2Y7IaU7JeQIFwi7ISc67KEID4g7ISc67KE7JmAIOyXsOqysOydtCDrgYrqsrzsirXri4jri6QuXCLrnbzripQg66mU7Iuc7KeA66W8IOy2nOugpe2VqeuLiOuLpC5cclxuICAgIC8vIHNvY2tldC5vbihcIm1lc3NhZ2VcIiwgKG1lc3NhZ2UpID0+IHsuLi59KSA6IO2BtOudvOydtOyWuO2KuOuhnOu2gO2EsCDrqZTsi5zsp4Drpbwg67Cb7JWY7J2EIOuVjCDsi6TtlonrkJjripQg7L2c67CxIO2VqOyImOulvCDshKTsoJXtlanri4jri6QuIOydtCDqsr3smrAg66mU7Iuc7KeA66W8IOuwm+ycvOuptCDrsJvsnYAg66mU7Iuc7KeA66W8IOy9mOyGlOyXkCDstpzroKXtlanri4jri6QuXHJcbiAgICAgICAgLy8gY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UobXNnKTog7YG065287J207Ja47Yq47JeQ7IScIOuztOuCuCDrqZTsi5zsp4DrpbwgSlNPTu2YleyLneycvOuhnCDtjIzsi7Htlanri4jri6QuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coW+yEnOuyhF0gOiAke21lc3NhZ2V9KTs6IOydtCDsvZTrk5zripQg7ISc67KEIOy4oeyXkOyEnCDsi6TtlonrkJjrqbAsIOyEnOuyhOydmCDsvZjshpTsl5AgXCJb7ISc67KEXSA6IFwi652864qUIOusuOyekOyXtOqzvCDtlajqu5gg7YG065287J207Ja47Yq466Gc67aA7YSwIOuwm+ydgCDrqZTsi5zsp4Drpbwg7Lac66Cl7ZWp64uI64ukLiBcclxuICAgICAgICAvLyDsnbTripQg7KO866GcIOqwnOuwnOyekOqwgCDshJzrsoTsl5DshJwg7YG065287J207Ja47Yq466Gc67aA7YSwIOyWtOuWpCDrqZTsi5zsp4Drpbwg67Cb7JWY64qU7KeAIO2ZleyduO2VmOq4sCDsnITtlbQg7IKs7Jqp65Cp64uI64ukLlxyXG4gICAgICAgIC8vIHNvY2tldC5zZW5kKFvshJzrsoRdIDogJHttZXNzYWdlfSk7OiDsnbQg7L2U65Oc64qUIOyEnOuyhOqwgCDtgbTrnbzsnbTslrjtirjroZwg66mU7Iuc7KeA66W8IOuztOuCtOuKlCDsvZTrk5zsnoXri4jri6QuIFwiW+yEnOuyhF0gOiBcIuudvOuKlCDrrLjsnpDsl7Tqs7wg7ZWo6ruYIO2BtOudvOydtOyWuO2KuOuhnOu2gO2EsCDrsJvsnYAg66mU7Iuc7KeA66W8IOq3uOuMgOuhnCDtgbTrnbzsnbTslrjtirjsl5Dqsowg67O064OF64uI64ukLiBcclxuICAgICAgICAvLyDsnbTripQg7Ju57IaM7LyT7J2EIO2Gte2VtCDsi6Tsi5zqsITsnLzroZwg7ISc67KE7JmAIO2BtOudvOydtOyWuO2KuCDqsITsnZgg642w7J207YSw66W8IOyjvOqzoOuwm+uKlCDrjbAg7IKs7Jqp65Cp64uI64ukLlxyXG4gICAgICAgIC8vIHNvY2tldHMuZm9yRWFjaChhU29ja2V0ID0+IGFTb2NrZXQuc2VuZCgke21lc3NhZ2V9KSk6IHNvY2tldHMg67Cw7Je07JeQIOyeiOuKlCDrqqjrk6Ag7Ju57IaM7LyT7JeQIOuplOyLnOyngOulvCDrs7Trg4Xri4jri6QuIOydtOulvCDthrXtlbQg7ISc67KE64qUIOuwm+ydgCDrqZTsi5zsp4Drpbwg66qo65OgIO2BtOudvOydtOyWuO2KuOyXkOqyjCDruIzroZzrk5zsupDsiqTtjIXtlanri4jri6QuXHJcblxyXG4gICAgICAgIC8vIHN3aXRjaChtZXNzYWdlLnR5cGUpIHsuLi59IDogbWVzc2FnZS50eXBl7J2YIOqwkuyXkCDrlLDrnbwg64uk66W4IOy9lOuTnCDruJTroZ3snbQg7Iuk7ZaJ65Cp64uI64ukLiBtZXNzYWdl64qUIO2BtOudvOydtOyWuO2KuOyXkOyEnCDshJzrsoTroZwg67O064K4IOuplOyLnOyngOulvCBKU09OIO2Yle2DnOuhnCDtjIzsi7HtlZwg6rCd7LK07J6F64uI64ukLlxyXG4gICAgICAgIC8vIGNhc2UgXCJuZXdfbWVzc2FnZVwiOiA6IOuplOyLnOyngOydmCDtg4DsnoXsnbQgXCJuZXdfbWVzc2FnZVwi7J24IOqyveyasCDri6TsnYwg7L2U65Oc66W8IOyLpO2Wie2VqeuLiOuLpC5cclxuICAgICAgICAvLyBzb2NrZXRzLmZvckVhY2goYVNvY2tldCA9PiBhU29ja2V0LnNlbmQoJHtzb2NrZXQubmlja25hbWV9OiR7bWVzc2FnZS5wYXlsb2FkfSkpOyA6IO2YhOyerCDsl7DqsrDrkJwg66qo65OgIOyGjOy8k+yXkCDrqZTsi5zsp4Drpbwg7KCE7Iah7ZWp64uI64ukLiBcclxuICAgICAgICAvLyDrqZTsi5zsp4DripQg67O064K4IOyCrOuejOydmCDri4nrhKTsnoTqs7wg66mU7Iuc7KeAIOuCtOyaqeydhCDtlanss5DshJwg7KCE7Iah65Cp64uI64ukLiDsl6zquLDshJwgc29ja2V0Lm5pY2tuYW1l7J2AIOuplOyLnOyngOulvCDrs7Trgrgg7IKs656M7J2YIOuLieuEpOyehOydtOqzoCwgbWVzc2FnZS5wYXlsb2Fk64qUIOuplOyLnOyngCDrgrTsmqnsnoXri4jri6QuXHJcbiAgICAgICAgLy8gY2FzZSBcIm5pY2tuYW1lXCI6IDog66mU7Iuc7KeA7J2YIO2DgOyeheydtCBcIm5pY2tuYW1lXCLsnbgg6rK97JqwIOuLpOydjCDsvZTrk5zrpbwg7Iuk7ZaJ7ZWp64uI64ukLlxyXG4gICAgICAgIC8vIHNvY2tldFtcIm5pY2tuYW1lXCJdID0gbWVzc2FnZS5wYXlsb2FkOyA6IOuplOyLnOyngOulvCDrs7Trgrgg7IKs656M7J2YIOuLieuEpOyehOydhCBtZXNzYWdlLnBheWxvYWTroZwg67OA6rK97ZWp64uI64ukLlxyXG4gICAgICAgIC8vIGJyZWFrOyA6IHN3aXRjaCDrrLjsnYQg67mg7KC464KY7Ji164uI64ukLiDsnbQg7YKk7JuM65Oc6rCAIOyXhuycvOuptCwg7ZW064u5IGNhc2Ug67iU66GdIOydtO2bhOydmCDsvZTrk5zrj4Qg7Iuk7ZaJ65Cp64uI64ukLlxyXG4gICAgICAgIC8vIOymiSwg7YG065287J207Ja47Yq47JeQ7IScIOuplOyLnOyngCDtg4DsnoXsnbQgXCJuZXdfbWVzc2FnZVwi66GcIOuztOuCtOuptCwg7ZW064u5IOuplOyLnOyngOulvCDshJzrsoTsl5Ag7Jew6rKw65CcIOuqqOuToCDtgbTrnbzsnbTslrjtirjsl5Dqsowg7KCE7Iah7ZWY6rOgLCBcclxuICAgICAgICAvLyDrqZTsi5zsp4Ag7YOA7J6F7J20IFwibmlja25hbWVcIuyduCDqsr3smrAsIOuplOyLnOyngOulvCDrs7Trgrgg7IKs656M7J2YIOuLieuEpOyehOydhCDrs4Dqsr3tlZjripQg7J6R7JeF7J2EIOyImO2Wie2VqeuLiOuLpC5cclxuICAgXHJcbiAgICAvLyBzb2NrZXQuc2VuZChcIuyViOuFlT9cIik7IDog7YG065287J207Ja47Yq47JmAIOyXsOqysOydtCDshLHqs7XtlZjrqbQg7YG065287J207Ja47Yq47JeQ6rKMIFwi7JWI64WVP1wiIOuplOyLnOyngOulvCDrs7Trg4Xri4jri6QuIFxyXG5cclxuLy8gc2VydmVyLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pOyA6IEhUVFAg7ISc67KE66W8IDMwMDDrsogg7Y+s7Yq47JeQ7IScIOyLnOyeke2VmOqzoCwg66as7Iqk64ud7J2EIOyLnOyeke2VmOuptCBoYW5kZWxMaXN0ZW4g7ZWo7IiY66W8IO2YuOy2nO2VqeuLiOuLpC5cclxuXHJcbmNvbnN0IHNvY2tldHMgPSBbXTtcclxuXHJcbndzcy5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJzb2NrZXRcIiwgc29ja2V0KTtcclxuICAgIGNvbnNvbGUubG9nKFwic29ja2V0XCIgKyBzb2NrZXQpO1xyXG4gICAgc29ja2V0cy5wdXNoKHNvY2tldCk7XHJcbiAgICBzb2NrZXRbXCJuaWNrbmFtZVwiXSA9IFwi7J2166qFXCI7IFxyXG4gICAgY29uc29sZS5sb2coXCLruIzrnbzsmrDsoIDsmYAg7Jew6rKw65CY7JeI7Iq164uI64ukLlwiKTtcclxuICAgIHNvY2tldC5vbihcImNsb3NlXCIsICgpID0+IGNvbnNvbGUubG9nKFwi7ISc67KEID4g7ISc67KE7JmAIOyXsOqysOydtCDrgYrqsrzsirXri4jri6QuXCIpKTtcclxuICAgIHNvY2tldC5vbihcIm1lc3NhZ2VcIiwgKG1zZykgPT4geyBcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShtc2cpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UudHlwZSwgbWVzc2FnZS5wYXlsb2FkKTsgLy8g7YG065287J207Ja47Yq47JeQ7IScIOuwm+ydgCBKU09OIO2DgOyeheydmCBrZXnqsJLsnYQg67Cb7JWE7IScIHZhbHVl66W8IOuwmO2ZmFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBb7ISc67KEXSA6ICR7bWVzc2FnZX1gKTsgLy8g7YG065287J207Ja47Yq47JeQ7IScIOuwm+ydgCDrqZTshLjsp4BcclxuICAgICAgICAvLyBzb2NrZXQuc2VuZChgW+yEnOuyhF0gOiAke21lc3NhZ2V9YCk7IC8vIO2BtOudvOydtOyWuO2KuOyXkOyEnCDrsJvsnYAg66mU7IS47KeA66W8IO2BtOudvOydtOyWuO2KuOuhnCDrs7TrgrTripQg66mU7Iuc7KeAXHJcbiAgICAgICAgLy8gc29ja2V0cy5mb3JFYWNoKGFTb2NrZXQgPT4gYVNvY2tldC5zZW5kKGAke21lc3NhZ2V9YCkpOyAvLyDtgbTrnbzsnbTslrjtirjsl5DshJwg67Cb7J2AIOuplOyEuOyngOulvCDshozsvJPsl5Ag7Jew6rKw65CcIOuqqOuToCDtgbTrnbzsnbTslrjtirjroZwg67O064K064qUIOuplOyEuOyngFxyXG5cclxuICAgICAgICBzd2l0Y2gobWVzc2FnZS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJuZXdfbWVzc2FnZVwiOlxyXG4gICAgICAgICAgICAgICAgLy8gc29ja2V0cy5mb3JFYWNoKGFTb2NrZXQgPT4gYVNvY2tldC5zZW5kKGAke21lc3NhZ2UucGF5bG9hZH1gKSk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXRzLmZvckVhY2goYVNvY2tldCA9PiBhU29ja2V0LnNlbmQoYCR7c29ja2V0Lm5pY2tuYW1lfToke21lc3NhZ2UucGF5bG9hZH1gKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm5pY2tuYW1lXCI6XHJcbiAgICAgICAgICAgICAgICBzb2NrZXRbXCJuaWNrbmFtZVwiXSA9IG1lc3NhZ2UucGF5bG9hZFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyBzb2NrZXQuc2VuZChcIuyViOuFlT9cIik7IC8vIO2BtOudvOydtOyWuO2KuOuhnCDrs7TrgrTripQg66mU7IS47KeAXHJcbn0pO1xyXG5cclxuc2VydmVyLmxpc3RlbigzMDAwLCBoYW5kZWxMaXN0ZW4pOyJdLCJtYXBwaW5ncyI6Ijs7QUFHQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxnQkFBQUEsR0FBQTtBQUw5QjtBQUNBO0FBQ0E7O0FBS0E7QUFDQSxJQUFNRSxHQUFHLEdBQUcsSUFBQUMsbUJBQU8sRUFBQyxDQUFDOztBQUdyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUFELEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7QUFDN0JGLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztBQUV0Q0gsR0FBRyxDQUFDSSxHQUFHLENBQUMsU0FBUyxFQUFFSCxtQkFBTyxVQUFPLENBQUNFLFNBQVMsR0FBRyxTQUFTLENBQUMsQ0FBQztBQUV6REgsR0FBRyxDQUFDSyxHQUFHLENBQUMsR0FBRyxFQUFFLFVBQUNDLEdBQUcsRUFBQ0MsR0FBRztFQUFBLE9BQUtBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUFBLEVBQUM7QUFDN0NSLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDLElBQUksRUFBRSxVQUFDQyxHQUFHLEVBQUNDLEdBQUc7RUFBQSxPQUFLQSxHQUFHLENBQUNFLFFBQVEsQ0FBQyxHQUFHLENBQUM7QUFBQSxFQUFDOztBQUc3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBWUEsQ0FBQTtFQUFBLE9BQVNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDRCQUE0QixDQUFDO0FBQUE7QUFDcEU7QUFDQSxJQUFNQyxNQUFNLEdBQUdDLGdCQUFJLENBQUNDLFlBQVksQ0FBQ2YsR0FBRyxDQUFDO0FBQ3JDLElBQU1nQixHQUFHLEdBQUcsSUFBSUMsY0FBUyxDQUFDQyxNQUFNLENBQUM7RUFBQ0wsTUFBTSxFQUFOQTtBQUFNLENBQUMsQ0FBQzs7QUFHMUM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVKOztBQUVKOztBQUVBLElBQU1NLE9BQU8sR0FBRyxFQUFFO0FBRWxCSCxHQUFHLENBQUNJLEVBQUUsQ0FBQyxZQUFZLEVBQUUsVUFBQ0MsTUFBTSxFQUFLO0VBQzdCVixPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEVBQUVTLE1BQU0sQ0FBQztFQUM3QlYsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxHQUFHUyxNQUFNLENBQUM7RUFDOUJGLE9BQU8sQ0FBQ0csSUFBSSxDQUFDRCxNQUFNLENBQUM7RUFDcEJBLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJO0VBQ3pCVixPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztFQUM3QlMsTUFBTSxDQUFDRCxFQUFFLENBQUMsT0FBTyxFQUFFO0lBQUEsT0FBTVQsT0FBTyxDQUFDQyxHQUFHLENBQUMscUJBQXFCLENBQUM7RUFBQSxFQUFDO0VBQzVEUyxNQUFNLENBQUNELEVBQUUsQ0FBQyxTQUFTLEVBQUUsVUFBQ0csR0FBRyxFQUFLO0lBQzFCLElBQU1DLE9BQU8sR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNILEdBQUcsQ0FBQztJQUMvQlosT0FBTyxDQUFDQyxHQUFHLENBQUNZLE9BQU8sQ0FBQ0csSUFBSSxFQUFFSCxPQUFPLENBQUNJLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDNUM7SUFDQTtJQUNBOztJQUVBLFFBQU9KLE9BQU8sQ0FBQ0csSUFBSTtNQUNmLEtBQUssYUFBYTtRQUNkO1FBQ0FSLE9BQU8sQ0FBQ1UsT0FBTyxDQUFDLFVBQUFDLE9BQU87VUFBQSxPQUFJQSxPQUFPLENBQUNDLElBQUksSUFBQUMsTUFBQSxDQUFJWCxNQUFNLENBQUNZLFFBQVEsT0FBQUQsTUFBQSxDQUFJUixPQUFPLENBQUNJLE9BQU8sQ0FBRSxDQUFDO1FBQUEsRUFBQztRQUNqRjtNQUNKLEtBQUssVUFBVTtRQUNYUCxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUdHLE9BQU8sQ0FBQ0ksT0FBTztRQUNwQztJQUNSO0VBQ0osQ0FBQyxDQUFDO0VBQ0Y7QUFDSixDQUFDLENBQUM7O0FBRUZmLE1BQU0sQ0FBQ3FCLE1BQU0sQ0FBQyxJQUFJLEVBQUV4QixZQUFZLENBQUMifQ==","map":{"version":3,"names":["_http","_interopRequireDefault","require","_ws","_express","obj","__esModule","app","express","set","__dirname","use","get","req","res","render","redirect","handelListen","console","log","server","http","createServer","wss","WebSocket","Server","sockets","on","socket","push","msg","message","JSON","parse","type","payload","forEach","aSocket","send","concat","nickname","listen"],"sourceRoot":"C:\\MySource\\soom\\src\\","sources":["server.js"],"sourcesContent":["// import http from \"http\"; : Node.js의 내장 모듈인 http를 불러옵니다. 이 모듈은 HTTP 서버를 생성하는 데 사용됩니다.\r\n// import WebSocket from 'ws'; : WebSocket 프로토콜을 구현한 ws 모듈을 불러옵니다. WebSocket은 클라이언트와 서버 간에 실시간 양방향 통신을 가능하게 하는 프로토콜입니다.\r\n// import express from 'express'; : Express 모듈을 불러옵니다. Express는 Node.js를 위한 웹 애플리케이션 프레임워크입니다.\r\nimport http from \"http\";\r\nimport WebSocket from 'ws';\r\nimport express from 'express';\r\n\r\n// const app = express(); : Express 인스턴스를 생성하여 app 변수에 저장합니다.\r\nconst app = express();\r\n\r\n\r\n// app.set(\"view engine\", \"pug\"); : Express 앱의 뷰 엔진을 Pug로 설정합니다. 뷰 엔진은 템플릿 파일을 렌더링하는 역할을 합니다.\r\n// app.set(\"views\", __dirname + \"/views\"); : Express 앱의 뷰(템플릿 파일)가 있는 디렉토리를 설정합니다. __dirname은 현재 파일의 경로를 나타내는 Node.js 전역 변수입니다.\r\n\r\n// app.use() : Express 미들웨어를 등록하는 메서드입니다. 미들웨어는 요청과 응답 사이에 위치하여 요청이 들어올 때마다 실행되는 함수입니다.\r\n//     \"/public\" : 이는 라우트의 경로를 지정합니다. 이 코드에서는 \"/public\" 경로로 들어오는 요청에 대해 미들웨어를 적용하겠다는 의미입니다.\r\n// express.static(__dirname+\"/public\") : express.static은 Express가 제공하는 빌트인 미들웨어로, 정적 파일을 제공하는 역할을 합니다. \r\n//     이 코드에서는 __dirname+\"/public\" 경로에 있는 정적 파일(이미지, CSS 파일, JavaScript 파일 등)을 \"/public\" 경로로 접근할 수 있도록 설정하고 있습니다\r\n\r\n// app.get(\"/\", (req,res) => res.render(\"home\")); : 루트 URL('/')에 GET 요청이 들어오면 home 템플릿을 렌더링하여 응답합니다. req는 요청 객체, res는 응답 객체를 나타냅니다.\r\n// app.get(\"/*\", (req,res) => res.redirect(\"/\")) : 루트 URL('/')를 제외한 모든 URL에 GET 요청이 들어오면 루트 URL('/')로 리다이렉트합니다.\r\n\r\napp.set(\"view engine\", \"pug\");\r\napp.set(\"views\", __dirname + \"/views\");\r\n\r\napp.use(\"/public\", express.static(__dirname + \"/public\"));\r\n\r\napp.get(\"/\", (req,res) => res.render(\"home\"));\r\napp.get(\"/*\", (req,res) => res.redirect(\"/\"));\r\n\r\n\r\n// const handelListen = () => console.log(\"듣고 있어 http://localhost:3000\") : 서버가 3000번 포트에서 리스닝을 시작할 때 콘솔에 메시지를 출력하는 함수를 정의합니다.\r\n// app.listen(3000, handelListen); : Express 앱을 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\r\n\r\n// const server = http.createServer(app); : http 모듈의 createServer 메서드를 사용해 HTTP 서버를 생성하고, 이전에 정의한 Express 앱(app)을 서버에 연결합니다.\r\n// const wss = new  WebSocket.Server({server}); : ws 모듈의 Server 클래스를 사용해 WebSocket 서버를 생성하고, 이를 HTTP 서버에 연결합니다. \r\n// 이로써 HTTP와 WebSocket 요청을 동일한 포트에서 처리할 수 있게 됩니다.\r\n\r\nconst handelListen = () => console.log(\"연결 중 http://localhost:3000\");\r\n// app.listen(3000, handelListen);\r\nconst server = http.createServer(app);\r\nconst wss = new WebSocket.Server({server});\r\n\r\n\r\n// function handelConnection(socket) { console.log(socket); } : 클라이언트가 WebSocket 서버에 연결되었을 때 실행되는 콜백 함수를 정의합니다. \r\n//     이 함수는 연결된 클라이언트의 소켓 객체(socket)를 파라미터로 받아서 그 정보를 콘솔에 출력합니다. 이 socket 객체를 통해 연결된 클라이언트와 데이터를 주고받을 수 있습니다.\r\n\r\n// wss.on(\"connection\", handelConnection); : wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, 즉 클라이언트가 서버에 연결되었을 때 handelConnection 함수를 실행하도록 설정합니다.\r\n\r\n// 따라서 클라이언트가 이 WebSocket 서버에 연결을 시도하면, 서버는 이를 감지하고 handelConnection 함수를 실행하여 클라이언트 소켓의 정보를 콘솔에 출력합니다. \r\n//     이렇게 함으로써 서버는 어떤 클라이언트가 연결되었는지 확인할 수 있습니다.\r\n\r\n/* \r\n    function handelConnection(socket) {\r\n        console.log(socket);\r\n    } \r\n\r\n    wss.on(\"connection\", handelConnection);\r\n*/\r\n\r\n\r\n// wss.on(\"connection\", (socket) => {...}); : 이 부분은 wss WebSocket 서버에서 \"connection\" 이벤트가 발생했을 때, \r\n// 즉 클라이언트가 서버에 연결되었을 때 실행되는 콜백 함수를 설정하는 부분입니다. 연결된 클라이언트의 소켓 객체는 socket 파라미터로 전달됩니다.\r\n    // \"console.log(\"socket\", socket)\"는 \"socket\"라는 문자열과 socket 객체를 별개로 출력합니다. 이 방식을 사용하면 socket 객체의 내용을 자세히 볼 수 있습니다.\r\n    // \"console.log(\"socket\" + socket)\"는 \"socket\"라는 문자열과 socket 객체를 문자열 연결 연산자(+)를 사용하여 하나의 문자열로 만들어 출력합니다. \r\n    //     이 경우, socket 객체가 문자열로 변환되어 출력되므로, [object Object]와 같이 출력될 수 있습니다.\r\n    // 따라서, 객체의 내용을 자세히 보고 싶다면 \"console.log(\"socke\", socket)\" 방식을, 객체를 문자열과 함께 한 줄로 출력하고 싶다면 \"console.log(\"socke\" + socket)\" 방식을 사용하면 됩니다.\r\n    // sockets.push(socket): 새로 연결된 웹소켓을 sockets 배열에 추가합니다.\r\n    // console.log(\"브라우저와 연결되었습니다.\"); : 클라이언트와 연결이 성공하면 콘솔에 \"브라우저와 연결되었습니다.\"라는 메시지를 출력합니다.\r\n    // socket.on(\"close\", () => console.log(\"서버 > 서버와 연결이 끊겼습니다.\")); : 클라이언트와의 연결이 닫혔을 때 실행되는 콜백 함수를 설정합니다. \r\n    //     이 경우 연결이 닫히면 콘솔에 \"서버 > 서버와 연결이 끊겼습니다.\"라는 메시지를 출력합니다.\r\n    // socket.on(\"message\", (message) => {...}) : 클라이언트로부터 메시지를 받았을 때 실행되는 콜백 함수를 설정합니다. 이 경우 메시지를 받으면 받은 메시지를 콘솔에 출력합니다.\r\n        // const message = JSON.parse(msg): 클라이언트에서 보낸 메시지를 JSON형식으로 파싱합니다.\r\n        // console.log([서버] : ${message});: 이 코드는 서버 측에서 실행되며, 서버의 콘솔에 \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 출력합니다. \r\n        // 이는 주로 개발자가 서버에서 클라이언트로부터 어떤 메시지를 받았는지 확인하기 위해 사용됩니다.\r\n        // socket.send([서버] : ${message});: 이 코드는 서버가 클라이언트로 메시지를 보내는 코드입니다. \"[서버] : \"라는 문자열과 함께 클라이언트로부터 받은 메시지를 그대로 클라이언트에게 보냅니다. \r\n        // 이는 웹소켓을 통해 실시간으로 서버와 클라이언트 간의 데이터를 주고받는 데 사용됩니다.\r\n        // sockets.forEach(aSocket => aSocket.send(${message})): sockets 배열에 있는 모든 웹소켓에 메시지를 보냅니다. 이를 통해 서버는 받은 메시지를 모든 클라이언트에게 브로드캐스팅합니다.\r\n\r\n        // switch(message.type) {...} : message.type의 값에 따라 다른 코드 블록이 실행됩니다. message는 클라이언트에서 서버로 보낸 메시지를 JSON 형태로 파싱한 객체입니다.\r\n        // case \"new_message\": : 메시지의 타입이 \"new_message\"인 경우 다음 코드를 실행합니다.\r\n        // sockets.forEach(aSocket => aSocket.send(${socket.nickname}:${message.payload})); : 현재 연결된 모든 소켓에 메시지를 전송합니다. \r\n        // 메시지는 보낸 사람의 닉네임과 메시지 내용을 합쳐서 전송됩니다. 여기서 socket.nickname은 메시지를 보낸 사람의 닉네임이고, message.payload는 메시지 내용입니다.\r\n        // case \"nickname\": : 메시지의 타입이 \"nickname\"인 경우 다음 코드를 실행합니다.\r\n        // socket[\"nickname\"] = message.payload; : 메시지를 보낸 사람의 닉네임을 message.payload로 변경합니다.\r\n        // break; : switch 문을 빠져나옵니다. 이 키워드가 없으면, 해당 case 블록 이후의 코드도 실행됩니다.\r\n        // 즉, 클라이언트에서 메시지 타입이 \"new_message\"로 보내면, 해당 메시지를 서버에 연결된 모든 클라이언트에게 전송하고, \r\n        // 메시지 타입이 \"nickname\"인 경우, 메시지를 보낸 사람의 닉네임을 변경하는 작업을 수행합니다.\r\n   \r\n    // socket.send(\"안녕?\"); : 클라이언트와 연결이 성공하면 클라이언트에게 \"안녕?\" 메시지를 보냅니다. \r\n\r\n// server.listen(3000, handelListen); : HTTP 서버를 3000번 포트에서 시작하고, 리스닝을 시작하면 handelListen 함수를 호출합니다.\r\n\r\nconst sockets = [];\r\n\r\nwss.on(\"connection\", (socket) => {\r\n    console.log(\"socket\", socket);\r\n    console.log(\"socket\" + socket);\r\n    sockets.push(socket);\r\n    socket[\"nickname\"] = \"익명\"; \r\n    console.log(\"브라우저와 연결되었습니다.\");\r\n    socket.on(\"close\", () => console.log(\"서버 > 서버와 연결이 끊겼습니다.\"));\r\n    socket.on(\"message\", (msg) => { \r\n        const message = JSON.parse(msg);\r\n        console.log(message.type, message.payload); // 클라이언트에서 받은 JSON 타입의 key값을 받아서 value를 반환\r\n        // console.log(`[서버] : ${message}`); // 클라이언트에서 받은 메세지\r\n        // socket.send(`[서버] : ${message}`); // 클라이언트에서 받은 메세지를 클라이언트로 보내는 메시지\r\n        // sockets.forEach(aSocket => aSocket.send(`${message}`)); // 클라이언트에서 받은 메세지를 소켓에 연결된 모든 클라이언트로 보내는 메세지\r\n\r\n        switch(message.type) {\r\n            case \"new_message\":\r\n                // sockets.forEach(aSocket => aSocket.send(`${message.payload}`));\r\n                sockets.forEach(aSocket => aSocket.send(`${socket.nickname}:${message.payload}`));\r\n                break;\r\n            case \"nickname\":\r\n                socket[\"nickname\"] = message.payload\r\n                break;                \r\n        }\r\n    })\r\n    // socket.send(\"안녕?\"); // 클라이언트로 보내는 메세지\r\n});\r\n\r\nserver.listen(3000, handelListen);"],"mappings":"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"}},"mtime":1701158255108}}